try{"undefined"!==typeof document&&!("classList"in document.createElement("a"))&&function(b){b=(b.HTMLElement||b.Element).prototype;var a=Object,d=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array.prototype.indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1},e=function(a,c){this.name=a;this.code=DOMException[a];this.message=c},f=function(a,d){if(""===d)throw new e("SYNTAX_ERR","An invalid or illegal string was specified");
if(/\s/.test(d))throw new e("INVALID_CHARACTER_ERR","String contains an invalid character");return c.call(a,d)},k=function(a){for(var c=d.call(a.className),c=c?c.split(/\s+/):[],e=0,b=c.length;e<b;e++)this.push(c[e]);this._updateClassName=function(){a.className=this.toString()}},h=k.prototype=[],g=function(){return new k(this)};e.prototype=Error.prototype;h.item=function(a){return this[a]||null};h.contains=function(a){return-1!==f(this,a+"")};h.add=function(a){a+="";-1===f(this,a)&&(this.push(a),
this._updateClassName())};h.remove=function(a){a=f(this,a+"");-1!==a&&(this.splice(a,1),this._updateClassName())};h.toggle=function(a){a+="";-1===f(this,a)?this.add(a):this.remove(a)};h.toString=function(){return this.join(" ")};if(a.defineProperty){h={get:g,enumerable:!0,configurable:!0};try{a.defineProperty(b,"classList",h)}catch(l){-2146823252===l.number&&(h.enumerable=!1,a.defineProperty(b,"classList",h))}}else a.prototype.__defineGetter__&&b.__defineGetter__("classList",g)}(self)}catch(error){}
var __hasProp={}.hasOwnProperty,__extends=function(b,a){function d(){this.constructor=b}for(var c in a)__hasProp.call(a,c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b},__indexOf=[].indexOf||function(b){for(var a=0,d=this.length;a<d;a++)if(a in this&&this[a]===b)return a;return-1},__bind=function(b,a){return function(){return b.apply(a,arguments)}};Date.now||(Date.now=function(){return+new Date});
(function(){function b(b){var f,k,h,y="json"==b;if(y||"json-stringify"==b||"json-parse"==b){if("json-stringify"==b||y){if(f="function"==typeof g.stringify&&z){(h=function(){return 1}).toJSON=h;try{f="0"===g.stringify(0)&&"0"===g.stringify(new Number)&&'""'==g.stringify(new String)&&g.stringify(e)===a&&g.stringify(a)===a&&g.stringify()===a&&"1"===g.stringify(h)&&"[1]"==g.stringify([h])&&"[null]"==g.stringify([a])&&"null"==g.stringify(c)&&"[null,null,null]"==g.stringify([a,e,c])&&'{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
g.stringify({A:[h,d,!1,c,"\x00\b\n\f\r\t"]})&&"1"===g.stringify(c,h)&&"[\n 1,\n 2\n]"==g.stringify([1,2],c,1)&&'"-271821-04-20T00:00:00.000Z"'==g.stringify(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==g.stringify(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==g.stringify(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==g.stringify(new Date(-1))}catch(l){f=!1}}if(!y)return f}if("json-parse"==b||y){if("function"==typeof g.parse)try{if(0===g.parse("0")&&!g.parse(!1)&&(h=g.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),
k=5==h.a.length&&1==h.a[0])){try{k=!g.parse('"\t"')}catch(m){}if(k)try{k=1!=g.parse("01")}catch(u){}}}catch(n){k=!1}if(!y)return k}return f&&k}}if("object"!==typeof JSON){var a=void 0,d=!0,c=null,e={}.toString,f,k,h="function"===typeof define&&define.c,g=!h&&"object"==typeof exports&&exports;g||h?"object"==typeof JSON&&JSON?h?g=JSON:(g.stringify=JSON.stringify,g.parse=JSON.parse):h&&(g=this.JSON={}):g=this.JSON||(this.JSON={});var l,m,n,s,v,y,u,x,A,q,w,p,C,z=new Date(-0xc782b5b800cec),t,B,D;try{z=
-109252==z.getUTCFullYear()&&0===z.getUTCMonth()&&1==z.getUTCDate()&&10==z.getUTCHours()&&37==z.getUTCMinutes()&&6==z.getUTCSeconds()&&708==z.getUTCMilliseconds()}catch(J){}if(!b("json")){z||(t=Math.floor,B=[0,31,59,90,120,151,181,212,243,273,304,334],D=function(a,c){return B[c]+365*(a-1970)+t((a-1969+(c=+(1<c)))/4)-t((a-1901+c)/100)+t((a-1601+c)/400)});if(!(f={}.hasOwnProperty))f=function(a){var d={},b;(d.__proto__=c,d.__proto__={toString:1},d).toString!=e?f=function(a){var d=this.__proto__;a=a in
(this.__proto__=c,this);this.__proto__=d;return a}:(b=d.constructor,f=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])});d=c;return f.call(this,a)};k=function(a,d){var b=0,k,h,y;(k=function(){this.valueOf=0}).prototype.valueOf=0;h=new k;for(y in h)f.call(h,y)&&b++;k=h=c;b?b=2==b?function(a,c){var d={},b="[object Function]"==e.call(a),k;for(k in a)!(b&&"prototype"==k)&&!f.call(d,k)&&(d[k]=1)&&f.call(a,k)&&c(k)}:function(a,c){var d="[object Function]"==e.call(a),
b,k;for(b in a)!(d&&"prototype"==b)&&f.call(a,b)&&!(k="constructor"===b)&&c(b);(k||f.call(a,b="constructor"))&&c(b)}:(h="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),b=function(a,c){var d="[object Function]"==e.call(a),b;for(b in a)!(d&&"prototype"==b)&&f.call(a,b)&&c(b);for(d=h.length;b=h[--d];f.call(a,b)&&c(b));});b(a,d)};b("json-stringify")||(l={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},m=function(a,
c){return("000000"+(c||0)).slice(-a)},n=function(a){for(var c='"',d=0,e;e=a.charAt(d);d++)c+=-1<'\\"\b\f\n\r\t'.indexOf(e)?l[e]:l[e]=" ">e?"\\u00"+m(2,e.charCodeAt(0).toString(16)):e;return c+'"'},s=function(b,h,y,g,l,u,x){var q=h[b],p,A,v,w,r,S,T,M,O;if("object"==typeof q&&q)if(p=e.call(q),"[object Date]"==p&&!f.call(q,"toJSON"))if(q>-1/0&&q<1/0){if(D){v=t(q/864E5);for(p=t(v/365.2425)+1970-1;D(p+1,0)<=v;p++);for(A=t((v-D(p,0))/30.42);D(p,A+1)<=v;A++);v=1+v-D(p,A);w=(q%864E5+864E5)%864E5;r=t(w/36E5)%
24;S=t(w/6E4)%60;T=t(w/1E3)%60;w%=1E3}else p=q.getUTCFullYear(),A=q.getUTCMonth(),v=q.getUTCDate(),r=q.getUTCHours(),S=q.getUTCMinutes(),T=q.getUTCSeconds(),w=q.getUTCMilliseconds();q=(0>=p||1E4<=p?(0>p?"-":"+")+m(6,0>p?-p:p):m(4,p))+"-"+m(2,A+1)+"-"+m(2,v)+"T"+m(2,r)+":"+m(2,S)+":"+m(2,T)+"."+m(3,w)+"Z"}else q=c;else if("function"==typeof q.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||f.call(q,"toJSON")))q=q.toJSON(b);y&&(q=y.call(h,b,q));if(q===c)return"null";p=e.call(q);
if("[object Boolean]"==p)return""+q;if("[object Number]"==p)return q>-1/0&&q<1/0?""+q:"null";if("[object String]"==p)return n(q);if("object"==typeof q){for(b=x.length;b--;)if(x[b]===q)throw TypeError();x.push(q);M=[];h=u;u+=l;if("[object Array]"==p){A=0;for(b=q.length;A<b;O||(O=d),A++)p=s(A,q,y,g,l,u,x),M.push(p===a?"null":p);b=O?l?"[\n"+u+M.join(",\n"+u)+"\n"+h+"]":"["+M.join(",")+"]":"[]"}else k(g||q,function(c){var e=s(c,q,y,g,l,u,x);e!==a&&M.push(n(c)+":"+(l?" ":"")+e);O||(O=d)}),b=O?l?"{\n"+
u+M.join(",\n"+u)+"\n"+h+"}":"{"+M.join(",")+"}":"{}";x.pop();return b}},g.stringify=function(a,c,d){var b,f,k,h,y,g;if("function"==typeof c||"object"==typeof c&&c)if("[object Function]"==e.call(c))f=c;else if("[object Array]"==e.call(c)){k={};h=0;for(y=c.length;h<y;g=c[h++],("[object String]"==e.call(g)||"[object Number]"==e.call(g))&&(k[g]=1));}if(d)if("[object Number]"==e.call(d)){if(0<(d-=d%1)){b="";for(10<d&&(d=10);b.length<d;b+=" ");}}else"[object String]"==e.call(d)&&(b=10>=d.length?d:d.slice(0,
10));return s("",(g={},g[""]=a,g),f,k,b,"",[])});b("json-parse")||(v=String.fromCharCode,y={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},u=function(){p=C=c;throw SyntaxError();},x=function(){for(var a=C,e=a.length,b,f,k,h,g;p<e;)if(b=a.charAt(p),-1<"\t\r\n ".indexOf(b))p++;else{if(-1<"{}[]:,".indexOf(b))return p++,b;if('"'==b){f="@";for(p++;p<e;)if(b=a.charAt(p)," ">b)u();else if("\\"==b)if(b=a.charAt(++p),-1<'\\"/btnfr'.indexOf(b))f+=y[b],p++;else if("u"==b){k=++p;for(h=p+4;p<h;p++)b=
a.charAt(p),"0"<=b&&"9">=b||"a"<=b&&"f">=b||"A"<=b&&"F">=b||u();f+=v("0x"+a.slice(k,p))}else u();else{if('"'==b)break;f+=b;p++}if('"'==a.charAt(p))return p++,f}else{k=p;"-"==b&&(g=d,b=a.charAt(++p));if("0"<=b&&"9">=b){for("0"==b&&(b=a.charAt(p+1),"0"<=b&&"9">=b)&&u();p<e&&(b=a.charAt(p),"0"<=b&&"9">=b);p++);if("."==a.charAt(p)){for(h=++p;h<e&&(b=a.charAt(h),"0"<=b&&"9">=b);h++);h==p&&u();p=h}b=a.charAt(p);if("e"==b||"E"==b){b=a.charAt(++p);("+"==b||"-"==b)&&p++;for(h=p;h<e&&(b=a.charAt(h),"0"<=b&&
"9">=b);h++);h==p&&u();p=h}return+a.slice(k,p)}g&&u();if("true"==a.slice(p,p+4))return p+=4,d;if("false"==a.slice(p,p+5))return p+=5,!1;if("null"==a.slice(p,p+4))return p+=4,c}u()}return"$"},A=function(a){var c,e;"$"==a&&u();if("string"==typeof a){if("@"==a.charAt(0))return a.slice(1);if("["==a){for(c=[];;e||(e=d)){a=x();if("]"==a)break;e&&(","==a?(a=x(),"]"==a&&u()):u());","==a&&u();c.push(A(a))}return c}if("{"==a){for(c={};;e||(e=d)){a=x();if("}"==a)break;e&&(","==a?(a=x(),"}"==a&&u()):u());(","==
a||"string"!=typeof a||"@"!=a.charAt(0)||":"!=x())&&u();c[a.slice(1)]=A(x())}return c}u()}return a},w=function(c,d,e){e=q(c,d,e);e===a?delete c[d]:c[d]=e},q=function(a,c,d){var b=a[c],f;if("object"==typeof b&&b)if("[object Array]"==e.call(b))for(f=b.length;f--;)w(b,f,d);else k(b,function(a){w(b,a,d)});return d.call(a,c,b)},g.parse=function(a,d){var b,f;p=0;C=a;b=A(x());"$"!=x()&&u();p=C=c;return d&&"[object Function]"==e.call(d)?q((f={},f[""]=b,f),"",d):b})}h&&define(function(){return g})}})();
(function(b){function a(a,c){this.setNotifyMethod(a);this.setNotifyContext(c)}function d(a,c,d){this.name=a;this.body=c;this.type=d}function c(){}function e(){}function f(){this.subCommands=[];this.initializeMacroCommand()}function k(a,c){this.mediatorName=a||this.constructor.NAME;this.viewComponent=c}function h(a,c){this.proxyName=a||this.constructor.NAME;null!=c&&this.setData(c)}function g(a){if(null!=g.instanceMap[a])throw Error(g.MULTITON_MSG);this.initializeNotifier(a);g.instanceMap[a]=this;
this.initializeFacade()}function l(a){if(null!=l.instanceMap[a])throw Error(l.MULTITON_MSG);this.multitonKey=a;l.instanceMap[this.multitonKey]=this;this.mediatorMap=[];this.observerMap=[];this.initializeView()}function m(a){if(m.instanceMap[a])throw Error(m.MULTITON_MSG);this.multitonKey=a;m.instanceMap[a]=this;this.proxyMap=[];this.initializeModel()}function n(a){if(null!=n.instanceMap[a])throw Error(n.MULTITON_MSG);this.multitonKey=a;n.instanceMap[this.multitonKey]=this;this.commandMap=[];this.initializeController()}
function s(a,c,d){a=a.split(".");d=d||v.global;for(var e,b,f=0,k=a.length;f<k;f++)e=d,b=a[f],d=null==d[b]?d[b]={}:d[b];return null==c?d:e[b]=c}null==b&&(b=window);if(!b.puremvc){a.prototype.setNotifyMethod=function(a){this.notify=a};a.prototype.setNotifyContext=function(a){this.context=a};a.prototype.getNotifyMethod=function(){return this.notify};a.prototype.getNotifyContext=function(){return this.context};a.prototype.notifyObserver=function(a){this.getNotifyMethod().call(this.getNotifyContext(),
a)};a.prototype.compareNotifyContext=function(a){return a===this.context};a.prototype.notify=null;a.prototype.context=null;d.prototype.getName=function(){return this.name};d.prototype.setBody=function(a){this.body=a};d.prototype.getBody=function(){return this.body};d.prototype.setType=function(a){this.type=a};d.prototype.getType=function(){return this.type};d.prototype.toString=function(){var a="Notification Name: "+this.getName(),a=a+("\nBody:"+(null==this.body?"null":this.body.toString()));return a+
("\nType:"+(null==this.type?"null":this.type))};d.prototype.name=null;d.prototype.type=null;d.prototype.body=null;c.prototype.sendNotification=function(a,c,d){var e=this.getFacade();e&&e.sendNotification(a,c,d)};c.prototype.initializeNotifier=function(a){this.multitonKey=""+a;this.facade=this.getFacade()};c.prototype.getFacade=function(){if(null==this.multitonKey)throw Error(c.MULTITON_MSG);return g.getInstance(this.multitonKey)};c.prototype.multitonKey=null;c.MULTITON_MSG="multitonKey for this Notifier not yet initialized!";
e.prototype=new c;e.prototype.constructor=e;e.prototype.execute=function(){};f.prototype=new c;f.prototype.constructor=f;f.prototype.subCommands=null;f.prototype.initializeMacroCommand=function(){};f.prototype.addSubCommand=function(a){this.subCommands.push(a)};f.prototype.execute=function(a){for(;0<this.subCommands.length;){var c=new (this.subCommands.shift());c.initializeNotifier(this.multitonKey);c.execute(a)}};k.NAME="Mediator";k.prototype=new c;k.prototype.constructor=k;k.prototype.getMediatorName=
function(){return this.mediatorName};k.prototype.setViewComponent=function(a){this.viewComponent=a};k.prototype.getViewComponent=function(){return this.viewComponent};k.prototype.listNotificationInterests=function(){return[]};k.prototype.handleNotification=function(){};k.prototype.onRegister=function(){};k.prototype.onRemove=function(){};k.prototype.mediatorName=null;k.prototype.viewComponent=null;h.NAME="Proxy";h.prototype=new c;h.prototype.constructor=h;h.prototype.getProxyName=function(){return this.proxyName};
h.prototype.setData=function(a){this.data=a};h.prototype.getData=function(){return this.data};h.prototype.onRegister=function(){};h.prototype.onRemove=function(){};h.prototype.proxyName=null;h.prototype.data=null;g.prototype.initializeFacade=function(){this.initializeModel();this.initializeController();this.initializeView()};g.getInstance=function(a){if(null==a)return null;null==g.instanceMap[a]&&(g.instanceMap[a]=new g(a));return g.instanceMap[a]};g.prototype.initializeController=function(){null==
this.controller&&(this.controller=n.getInstance(this.multitonKey))};g.prototype.initializeModel=function(){null==this.model&&(this.model=m.getInstance(this.multitonKey))};g.prototype.initializeView=function(){null==this.view&&(this.view=l.getInstance(this.multitonKey))};g.prototype.registerCommand=function(a,c){this.controller.registerCommand(a,c)};g.prototype.removeCommand=function(a){this.controller.removeCommand(a)};g.prototype.hasCommand=function(a){return this.controller.hasCommand(a)};g.prototype.registerProxy=
function(a){this.model.registerProxy(a)};g.prototype.retrieveProxy=function(a){return this.model.retrieveProxy(a)};g.prototype.removeProxy=function(a){var c=null;null!=this.model&&(c=this.model.removeProxy(a));return c};g.prototype.hasProxy=function(a){return this.model.hasProxy(a)};g.prototype.registerMediator=function(a){null!=this.view&&this.view.registerMediator(a)};g.prototype.retrieveMediator=function(a){return this.view.retrieveMediator(a)};g.prototype.removeMediator=function(a){var c=null;
null!=this.view&&(c=this.view.removeMediator(a));return c};g.prototype.hasMediator=function(a){return this.view.hasMediator(a)};g.prototype.sendNotification=function(a,c,e){this.notifyObservers(new d(a,c,e))};g.prototype.notifyObservers=function(a){null!=this.view&&this.view.notifyObservers(a)};g.prototype.initializeNotifier=function(a){this.multitonKey=a};g.hasCore=function(a){return null!=g.instanceMap[a]};g.removeCore=function(a){null!=g.instanceMap[a]&&(m.removeModel(a),l.removeView(a),n.removeController(a),
delete g.instanceMap[a])};g.prototype.controller=null;g.prototype.model=null;g.prototype.view=null;g.prototype.multitonKey=null;g.instanceMap=[];g.MULTITON_MSG="Facade instance for this Multiton key already constructed!";l.prototype.initializeView=function(){};l.getInstance=function(a){if(null==a)return null;null==l.instanceMap[a]&&(l.instanceMap[a]=new l(a));return l.instanceMap[a]};l.prototype.registerObserver=function(a,c){null!=this.observerMap[a]?this.observerMap[a].push(c):this.observerMap[a]=
[c]};l.prototype.notifyObservers=function(a){if(null!=this.observerMap[a.getName()]){for(var c=this.observerMap[a.getName()],d=[],e,b=0;b<c.length;b++)e=c[b],d.push(e);for(b=0;b<d.length;b++)e=d[b],e.notifyObserver(a)}};l.prototype.removeObserver=function(a,c){for(var d=this.observerMap[a],e=0;e<d.length;e++)if(!0==d[e].compareNotifyContext(c)){d.splice(e,1);break}0==d.length&&delete this.observerMap[a]};l.prototype.registerMediator=function(c){if(null==this.mediatorMap[c.getMediatorName()]){c.initializeNotifier(this.multitonKey);
this.mediatorMap[c.getMediatorName()]=c;var d=c.listNotificationInterests();if(0<d.length)for(var e=new a(c.handleNotification,c),b=0;b<d.length;b++)this.registerObserver(d[b],e);c.onRegister()}};l.prototype.retrieveMediator=function(a){return this.mediatorMap[a]};l.prototype.removeMediator=function(a){var c=this.mediatorMap[a];if(c){for(var d=c.listNotificationInterests(),e=0;e<d.length;e++)this.removeObserver(d[e],c);delete this.mediatorMap[a];c.onRemove()}return c};l.prototype.hasMediator=function(a){return null!=
this.mediatorMap[a]};l.removeView=function(a){delete l.instanceMap[a]};l.prototype.mediatorMap=null;l.prototype.observerMap=null;l.instanceMap=[];l.prototype.multitonKey=null;l.MULTITON_MSG="View instance for this Multiton key already constructed!";m.prototype.initializeModel=function(){};m.getInstance=function(a){if(null==a)return null;null==m.instanceMap[a]&&(m.instanceMap[a]=new m(a));return m.instanceMap[a]};m.prototype.registerProxy=function(a){a.initializeNotifier(this.multitonKey);this.proxyMap[a.getProxyName()]=
a;a.onRegister()};m.prototype.retrieveProxy=function(a){return this.proxyMap[a]};m.prototype.hasProxy=function(a){return null!=this.proxyMap[a]};m.prototype.removeProxy=function(a){var c=this.proxyMap[a];c&&(this.proxyMap[a]=null,c.onRemove());return c};m.removeModel=function(a){delete m.instanceMap[a]};m.prototype.proxyMap=null;m.instanceMap=[];m.MULTITON_MSG="Model instance for this Multiton key already constructed!";n.prototype.initializeController=function(){this.view=l.getInstance(this.multitonKey)};
n.getInstance=function(a){if(null==a)return null;null==this.instanceMap[a]&&(this.instanceMap[a]=new this(a));return this.instanceMap[a]};n.prototype.executeCommand=function(a){var c=this.commandMap[a.getName()];null!=c&&(c=new c,c.initializeNotifier(this.multitonKey),c.execute(a))};n.prototype.registerCommand=function(c,d){null==this.commandMap[c]&&this.view.registerObserver(c,new a(this.executeCommand,this));this.commandMap[c]=d};n.prototype.hasCommand=function(a){return null!=this.commandMap[a]};
n.prototype.removeCommand=function(a){this.hasCommand(a)&&(this.view.removeObserver(a,this),this.commandMap[a]=null)};n.removeController=function(a){delete this.instanceMap[a]};n.prototype.view=null;n.prototype.commandMap=null;n.prototype.multitonKey=null;n.instanceMap=[];n.MULTITON_MSG="controller key for this Multiton key already constructed";var v={global:function(){return this}(),extend:function(a,c){if("function"!==typeof a)throw new TypeError("#extend- child should be Function");if("function"!==
typeof c)throw new TypeError("#extend- parent should be Function");if(c!==a){var d=new Function;d.prototype=c.prototype;a.prototype=new d;return a.prototype.constructor=a}},decorate:function(a,c){for(var d in c)a[d]=c[d];return a}};b.puremvc={View:l,Model:m,Controller:n,SimpleCommand:e,MacroCommand:f,Facade:g,Mediator:k,Observer:a,Notification:d,Notifier:c,Proxy:h,define:function(a,c,d){a||(a={});var e=a.name,b=a.parent,f="function"===typeof b,k=a.scope||null;if("parent"in a&&!f)throw new TypeError("Class parent must be Function");
if(a.hasOwnProperty("constructor")){if(a=a.constructor,"function"!==typeof a)throw new TypeError("Class constructor must be Function");}else a=f?function(){b.apply(this,arguments)}:new Function;f&&v.extend(a,b);c&&(f=a.prototype,v.decorate(f,c),f.constructor=a);d&&v.decorate(a,d);if(e){if("string"!==typeof e)throw new TypeError("Class name must be primitive string");s(e,a,k)}return a},declare:s}}})(this);
var swfobject=function(){function b(){if(!F){try{var a=t.getElementsByTagName("body")[0].appendChild(t.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}F=!0;for(var a=J.length,d=0;d<a;d++)J[d]()}}function a(a){F?a():J[J.length]=a}function d(a){if(typeof z.addEventListener!=q)z.addEventListener("load",a,!1);else if(typeof t.addEventListener!=q)t.addEventListener("load",a,!1);else if(typeof z.attachEvent!=q)v(z,"onload",a);else if("function"==typeof z.onload){var c=z.onload;z.onload=
function(){c();a()}}else z.onload=a}function c(){var a=t.getElementsByTagName("body")[0],c=t.createElement(w);c.setAttribute("type",p);var d=a.appendChild(c);if(d){var b=0;(function(){if(typeof d.GetVariable!=q){var f=d.GetVariable("$version");f&&(f=f.split(" ")[1].split(","),r.pv=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>b){b++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;e()})()}else e()}function e(){var a=E.length;if(0<a)for(var c=0;c<a;c++){var d=E[c].id,
e=E[c].callbackFn,b={success:!1,id:d};if(0<r.pv[0]){var l=s(d);if(l)if(y(E[c].swfVersion)&&!(r.wk&&312>r.wk))x(d,!0),e&&(b.success=!0,b.ref=f(d),e(b));else if(E[c].expressInstall&&k()){b={};b.data=E[c].expressInstall;b.width=l.getAttribute("width")||"0";b.height=l.getAttribute("height")||"0";l.getAttribute("class")&&(b.styleclass=l.getAttribute("class"));l.getAttribute("align")&&(b.align=l.getAttribute("align"));for(var m={},l=l.getElementsByTagName("param"),n=l.length,u=0;u<n;u++)"movie"!=l[u].getAttribute("name").toLowerCase()&&
(m[l[u].getAttribute("name")]=l[u].getAttribute("value"));h(b,m,d,e)}else g(l),e&&e(b)}else if(x(d,!0),e){if((d=f(d))&&typeof d.SetVariable!=q)b.success=!0,b.ref=d;e(b)}}}function f(a){var c=null;if((a=s(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=q?c=a:(a=a.getElementsByTagName(w)[0])&&(c=a);return c}function k(){return!Q&&y("6.0.65")&&(r.win||r.mac)&&!(r.wk&&312>r.wk)}function h(a,c,d,e){Q=!0;N=e||null;P={success:!1,id:d};var b=s(d);if(b){"OBJECT"==b.nodeName?(I=l(b),L=null):(I=b,L=d);a.id=
C;if(typeof a.width==q||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==q||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";t.title=t.title.slice(0,47)+" - Flash Player Installation";e=r.ie&&r.win?"ActiveX":"PlugIn";e="MMredirectURL\x3d"+z.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+t.title;c.flashvars=typeof c.flashvars!=q?c.flashvars+("\x26"+e):e;r.ie&&(r.win&&4!=b.readyState)&&(e=t.createElement("div"),d+="SWFObjectNew",
e.setAttribute("id",d),b.parentNode.insertBefore(e,b),b.style.display="none",function(){4==b.readyState?b.parentNode.removeChild(b):setTimeout(arguments.callee,10)}());m(a,c,d)}}function g(a){if(r.ie&&r.win&&4!=a.readyState){var c=t.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(l(a),c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(l(a),a)}function l(a){var c=t.createElement("div");
if(r.win&&r.ie)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(w)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)!(1==a[e].nodeType&&"PARAM"==a[e].nodeName)&&8!=a[e].nodeType&&c.appendChild(a[e].cloneNode(!0));return c}function m(a,c,d){var e,b=s(d);if(r.wk&&312>r.wk)return e;if(b)if(typeof a.id==q&&(a.id=d),r.ie&&r.win){var f="",k;for(k in a)a[k]!=Object.prototype[k]&&("data"==k.toLowerCase()?c.movie=a[k]:"styleclass"==k.toLowerCase()?f+=' class\x3d"'+a[k]+'"':"classid"!=k.toLowerCase()&&
(f+=" "+k+'\x3d"'+a[k]+'"'));k="";for(var h in c)c[h]!=Object.prototype[h]&&(k+='\x3cparam name\x3d"'+h+'" value\x3d"'+c[h]+'" /\x3e');b.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+"\x3e"+k+"\x3c/object\x3e";K[K.length]=a.id;e=s(a.id)}else{h=t.createElement(w);h.setAttribute("type",p);for(var g in a)a[g]!=Object.prototype[g]&&("styleclass"==g.toLowerCase()?h.setAttribute("class",a[g]):"classid"!=g.toLowerCase()&&h.setAttribute(g,a[g]));for(f in c)c[f]!=Object.prototype[f]&&
"movie"!=f.toLowerCase()&&(a=h,k=f,g=c[f],d=t.createElement("param"),d.setAttribute("name",k),d.setAttribute("value",g),a.appendChild(d));b.parentNode.replaceChild(h,b);e=h}return e}function n(a){var c=s(a);c&&"OBJECT"==c.nodeName&&(r.ie&&r.win?(c.style.display="none",function(){if(4==c.readyState){var d=s(a);if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function s(a){var c=null;try{c=t.getElementById(a)}catch(d){}return c}
function v(a,c,d){a.attachEvent(c,d);G[G.length]=[a,c,d]}function y(a){var c=r.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function u(a,c,d,e){if(!r.ie||!r.mac){var b=t.getElementsByTagName("head")[0];if(b){d=d&&"string"==typeof d?d:"screen";e&&(R=H=null);if(!H||R!=d)e=t.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),H=b.appendChild(e),
r.ie&&(r.win&&typeof t.styleSheets!=q&&0<t.styleSheets.length)&&(H=t.styleSheets[t.styleSheets.length-1]),R=d;r.ie&&r.win?H&&typeof H.addRule==w&&H.addRule(a,c):H&&typeof t.createTextNode!=q&&H.appendChild(t.createTextNode(a+" {"+c+"}"))}}}function x(a,c){if(U){var d=c?"visible":"hidden";F&&s(a)?s(a).style.visibility=d:u("#"+a,"visibility:"+d)}}function A(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=q?encodeURIComponent(a):a}var q="undefined",w="object",p="application/x-shockwave-flash",
C="SWFObjectExprInst",z=window,t=document,B=navigator,D=!1,J=[function(){D?c():e()}],E=[],K=[],G=[],I,L,N,P,F=!1,Q=!1,H,R,U=!0,r=function(){var a=typeof t.getElementById!=q&&typeof t.getElementsByTagName!=q&&typeof t.createElement!=q,c=B.userAgent.toLowerCase(),d=B.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,b=!+"\v1",f=[0,0,0],k=null;if(typeof B.plugins!=q&&typeof B.plugins["Shockwave Flash"]==
w){if((k=B.plugins["Shockwave Flash"].description)&&!(typeof B.mimeTypes!=q&&B.mimeTypes[p]&&!B.mimeTypes[p].enabledPlugin))D=!0,b=!1,k=k.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),f[0]=parseInt(k.replace(/^(.*)\..*$/,"$1"),10),f[1]=parseInt(k.replace(/^.*\.(.*)\s.*$/,"$1"),10),f[2]=/[a-zA-Z]/.test(k)?parseInt(k.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof z.ActiveXObject!=q)try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(h&&(k=h.GetVariable("$version")))b=!0,k=k.split(" ")[1].split(","),
f=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],10)]}catch(g){}return{w3:a,pv:f,wk:c,ie:b,win:e,mac:d}}();(function(){r.w3&&((typeof t.readyState!=q&&"complete"==t.readyState||typeof t.readyState==q&&(t.getElementsByTagName("body")[0]||t.body))&&b(),F||(typeof t.addEventListener!=q&&t.addEventListener("DOMContentLoaded",b,!1),r.ie&&r.win&&(t.attachEvent("onreadystatechange",function(){"complete"==t.readyState&&(t.detachEvent("onreadystatechange",arguments.callee),b())}),z==top&&function(){if(!F){try{t.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}b()}}()),r.wk&&function(){F||(/loaded|complete/.test(t.readyState)?b():setTimeout(arguments.callee,0))}(),d(b)))})();(function(){r.ie&&r.win&&window.attachEvent("onunload",function(){for(var a=G.length,c=0;c<a;c++)G[c][0].detachEvent(G[c][1],G[c][2]);a=K.length;for(c=0;c<a;c++)n(K[c]);for(var d in r)r[d]=null;r=null;for(var e in swfobject)swfobject[e]=null;swfobject=null})})();return{registerObject:function(a,c,d,e){if(r.w3&&a&&c){var b={};b.id=a;b.swfVersion=c;b.expressInstall=d;b.callbackFn=
e;E[E.length]=b;x(a,!1)}else e&&e({success:!1,id:a})},getObjectById:function(a){if(r.w3)return f(a)},embedSWF:function(c,d,e,b,f,g,l,n,u,s){var p={success:!1,id:d};r.w3&&!(r.wk&&312>r.wk)&&c&&d&&e&&b&&f?(x(d,!1),a(function(){e+="";b+="";var a={};if(u&&typeof u===w)for(var r in u)a[r]=u[r];a.data=c;a.width=e;a.height=b;r={};if(n&&typeof n===w)for(var v in n)r[v]=n[v];if(l&&typeof l===w)for(var t in l)r.flashvars=typeof r.flashvars!=q?r.flashvars+("\x26"+t+"\x3d"+l[t]):t+"\x3d"+l[t];if(y(f))v=m(a,r,
d),a.id==d&&x(d,!0),p.success=!0,p.ref=v;else{if(g&&k()){a.data=g;h(a,r,d,s);return}x(d,!0)}s&&s(p)})):s&&s(p)},switchOffAutoHideShow:function(){U=!1},ua:r,getFlashPlayerVersion:function(){return{major:r.pv[0],minor:r.pv[1],release:r.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(a,c,d){if(r.w3)return m(a,c,d)},showExpressInstall:function(a,c,d,e){r.w3&&k()&&h(a,c,d,e)},removeSWF:function(a){r.w3&&n(a)},createCSS:function(a,c,d,e){r.w3&&u(a,c,d,e)},addDomLoadEvent:a,addLoadEvent:d,getQueryParamValue:function(a){var c=
t.location.search||t.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return A(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return A(c[d].substring(c[d].indexOf("\x3d")+1))}return""},expressInstallCallback:function(){if(Q){var a=s(C);a&&I&&(a.parentNode.replaceChild(I,a),L&&(x(L,!0),r.ie&&r.win&&(I.style.display="block")),N&&N(P));Q=!1}}}}(),com=window.com||{};com.akamai=window.com.akamai||{};com.akamai.amp=window.com.akamai.amp||{};
com.akamai.amp.core=window.com.akamai.amp.core||{};com.akamai.amp.core.utils=window.com.akamai.amp.core.utils||{};com.akamai.amp.events=window.com.akamai.amp.events||{};com.akamai.amp.modules=window.com.akamai.amp.modules||{};com.akamai.amp.player=window.com.akamai.amp.player||{};com.akamai.amp.player.controller=window.com.akamai.amp.player.controller||{};com.akamai.amp.player.model=window.com.akamai.amp.player.model||{};
com.akamai.amp.player.model.localization=window.com.akamai.amp.player.model.localization||{};com.akamai.amp.player.view=window.com.akamai.amp.player.view||{};com.akamai.amp.plugins=window.com.akamai.amp.plugins||{};com.akamai.amp.plugins.ads=window.com.akamai.amp.plugins.ads||{};com.akamai.amp.plugins.captioning=window.com.akamai.amp.plugins.captioning||{};com.akamai.amp.plugins.eventmanagement=window.com.akamai.amp.plugins.eventmanagement||{};
com.akamai.amp.plugins.mediaanalytics=window.com.akamai.amp.plugins.mediaanalytics||{};com.akamai.amp.standard=window.com.akamai.amp.standard||{};com.akamai.amp.tokenization=window.com.akamai.amp.tokenization||{};
com.akamai.amp.events.EventDispatcher=function(){function b(a){this.target=a||this;this.listeners={}}b.name="EventDispatcher";b.prototype.listeners=null;b.prototype.target=null;b.prototype.addEventListener=function(a,d){d&&(null==this.listeners[a]&&(this.listeners[a]=[]),this.listeners[a].push(d))};b.prototype.dispatchEvent=function(a){var d,c,e,b;c=this.listeners[a.type];d=this.target["on"+a.type];null!=d&&d.apply(this,[a]);if(c){a.target=this.target;e=0;for(b=c.length;e<b;e++)d=c[e],d.apply(this.target,
[a])}};b.prototype.removeEventListener=function(a,d){var c,e;if(0<=__indexOf.call(this.listeners,a)&&(c=this.listeners[a],e=c.indexOf(d),-1!==e))return c.splice(e,1)};return b}();
com.akamai.amp.player.Notifications=function(){function b(){}b.name="Notifications";b.STARTUP="startup";b.LOAD="load";b.PLAY_REQUEST="playRequest";b.PAUSE_REQUEST="pauseRequest";b.AUTHENTICATE="authenticate";b.AUTHENTICATED="authenticated";b.INITIALIZED="initialized";b.TOGGLE_PLAY_PAUSE="togglePlayPause";b.PLAY="play";b.PAUSE="pause";b.CHANGE_PLAY_STATE="chagePlayState";b.PLAY_STATE_CHANGE="playStateChange";b.WAITING="waiting";b.TOGGLE_FULL_SCREEN="toggleFullScreen";b.CHANGE_DISPLAY_STATE="chageDisplayState";
b.DISPLAY_STATE_CHANGE="displayStateChange";b.DISABLE_FULL_SCREEN="disableFullScreen";b.ENABLE_FULL_SCREEN="enableFullScreen";b.LANGUAGE_CHANGE="languageChange";b.TOGGLE_ACTIVE="toggleActive";b.CHANGE_ACTIVE_STATE="changeActiveState";b.ACTIVE_STATE_CHANGE="activeStateChange";b.PROGRESS="progress";b.CHANGE_MEDIA="changeMedia";b.MEDIA_CHANGE="mediaChange";b.UPDATE_TOKEN_CONTEXT="updateTokenContext";b.CHANGE_VOLUME="changeVolume";b.VOLUME_CHANGE="volumeChange";b.CHANGE_MUTED="changemuted";b.TIME_UPDATE=
"timeUpdate";b.SEEK="seek";b.SEEKED="seeked";b.CHANGE_DURATION="changeDuration";b.DURATION_CHANGE="durationChange";b.CHANGE_AUTOPLAY="changeAutoplay";b.CHANGE_LOOP="changeLoop";b.MEDIUM_CHANGE="mediumChange";b.TEMPORAL_TYPE_CHANGE="temporalTypeChange";b.PLAYBACK_CORE_CHANGE="playbackCoreChange";b.CHANGE_PLAYBACK_CORE="changePlaybackCore";b.UPDATE_PLAYBACK_CORE="updatePlaybackCore";b.START="start";b.STARTED="started";b.END="end";b.ENDED="ended";b.REPLAY="replay";b.READY="ready";b.ERROR="error";b.LOAD_FEED=
"loadFeed";b.REGISTER_PLUGIN="registerPlugin";b.REGISTER_PLUGINS="registerPlugins";b.PLUGIN_REGISTERED="pluginRegistered";b.ADD_OVERLAY="addOverlay";b.REMOVE_OVERLAY="removeOverlay";b.ADD_CONTROL="addControl";b.REMOVE_CONTROL="removeControl";b.ADD_APPLICATION_STATE="addApplicationState";b.REMOVE_APPLICATION_STATE="removeApplicationState";b.DISPATCH_EVENT="dispatchEvent";b.CHANGE_PARAMS="changeParams";b.ADD_CUE_POINTS="addCuePoints";b.REMOVE_CUE_POINTS="removeCuePoints";return b}();
com.akamai.amp.core.utils.XMLUtils=function(){function b(){}b.name="XMLUtils";b.createTextContent=function(a,d){return/[\&<>]/.test(d)?a.createCDATASection(d):a.createTextNode(d)};b.serialize=function(a){var d;if(null!=a){if("string"===typeof a)return a;try{return d=new XMLSerializer,d.serializeToString(a)}catch(c){try{return document.implementation.createLSSerializer(),xmlSerializer.writeToString(a)}catch(e){try{return a.xml}catch(b){}}}}};b.parse=function(a){var d;window.DOMParser?(d=new DOMParser,
d=d.parseFromString(a,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(a));return d};return b}();
com.akamai.amp.player.FlashNotifications=function(){function b(){}b.name="FlashNotifications";b.READY="jsApiReady";b.RESET="mediaPlayerReset";b.LOADING="mediaPlayerLoading";b.PLAYER_ERROR="mediaPlayerError";b.MEDIA_ERROR="mediaError";b.ERROR_STREAM_NOT_FOUND="mediaPlayerErrorStreamNotFound";b.CAPABILITY_CHANGE="mediaPlayerCapabilityChange";b.PLAYBACK_OPEN="mediaPlayerPlaybackOpen";b.PLAYING="mediaPlayerPlaying";b.ENDED="mediaPlayerPlaybackClose";b.PAUSED="mediaPlayerPaused";b.BUFFERING="mediaPlayerBuffering";
b.DURATION_CHANGE="mediaPlayerDurationChange";b.TIME_UPDATE="mediaPlayerCurrentTimeChange";b.SEEKING_CHANGE="mediaPlayerSeekingChange";b.ERROR="error";b.VOLUME_CHANGE="mediaPlayerVolumeChanged";b.CAPTION_DATA_CHANGE="mediaPlayerCaptiondataChange";b.AUTHENTICATE="mediaPlayerAuthenticate";b.CAPTIONING_REQUEST="mediaPlayerCaptioningRequest";b.RECOMMENDATION_SELECTED="mediaPlayerRecommendationSelected";b.SHARE="mediaPlayerShare";b.SHARE_REQUEST="mediaPlayerShareRequest";b.AUTO_ADVANCE="mediaPlayerAutoAdvance";
b.CREATE_FLASH_VARS="createFlashVars";b.CREATE_XML="createXML";b.FLASH_CREATED="flashCreated";b.AD_LOADED="adComponentLoaded";b.AD_PLAYBACK_BEGIN="adComponentPlaybackBegin";b.AD_PLAYBACK_PROGRESS="adComponentPlaybackProgress";b.AD_PLAYBACK_FAILED="adComponentPlaybackFailed";b.AD_PLAYBACK_TERMINATED="adComponentPlaybackTerminated";b.AD_COMPLETE="adComponentAdComplete";b.AD_MEDIA_LOADED="adComponentMediaLoaded";b.AD_CLICKED="adComponentClicked";b.AD_COMPANION="adComponentCompanion";b.AD_TIME_ELAPSED=
"adComponentTimeElapsed";return b}();com.akamai.amp.modules.ModuleMediator=function(b){function a(c,e){d=com.akamai.amp.modules.ModuleConfigurationProxy;a.__super__.constructor.call(this,c,e)}__extends(a,b);a.name="ModuleMediator";a.config=null;var d;a.prototype.initializeNotifier=function(c){a.__super__.initializeNotifier.call(this,c);this.config=(this.facade.app||this.facade).retrieveProxy(d.NAME)};return a}(puremvc.Mediator);
com.akamai.amp.player.view.LocalizationWrapper=function(b){function a(e){this.config=e;d=com.akamai.amp.core.utils.XMLUtils;c=com.akamai.amp.player.FlashNotifications;a.__super__.constructor.call(this,this.constructor.NAME)}__extends(a,b);a.name="LocalizationWrapper";a.prototype.config=null;var d,c;a.NAME="LocalizationWrapper";a.prototype.listNotificationInterests=function(){var d;d=a.__super__.listNotificationInterests.call(this);return d=d.concat([c.CREATE_FLASH_VARS,c.CREATE_XML])};a.prototype.handleNotification=
function(e){var b,k,h,g,l,m,n,s;a.__super__.handleNotification.call(this,e);b=e.getName();e=e.getBody();switch(b){case c.CREATE_FLASH_VARS:null!=this.config.language&&(e.locale_setting=this.config.language);break;case c.CREATE_XML:for(h in n=e.xml,n.getElementsByTagName("application"),g=n.getElementsByTagName("locales")[0],null==g&&(g=n.createElement("locales"),applications.appendChild(g)),s=this.config.locales,s)for(k in e=s[h],b=n.createElement("locale"),b.setAttribute("id",h),g.appendChild(b),
e)m=e[k],l=n.createElement("property"),l.setAttribute("key",k),m=d.createTextContent(n,m),l.appendChild(m),b.appendChild(l)}};return a}(puremvc.Mediator);
com.akamai.amp.player.view.FlashMediator=function(b){function a(d){a.__super__.constructor.call(this,a.NAME,d)}__extends(a,b);a.name="FlashMediator";a.NAME="FlashMediator";a.prototype.core=null;a.prototype.container=null;a.prototype.medium=null;a.prototype.onRegister=function(){a.__super__.onRegister.call(this);return this.viewComponent.className="akamai-player akamai-flash"};return a}(com.akamai.amp.modules.ModuleMediator);
com.akamai.amp.modules.ModuleConfigurationProxy=function(b){function a(d){a.__super__.constructor.call(this);null!=d&&this.setData(d)}__extends(a,b);a.name="ModuleConfigurationProxy";a.NAME="ModuleConfigurationProxy";a.prototype.data=null;a.prototype.getData=function(){return this.data};a.prototype.setData=function(a){var c,e,b;b=[];for(c in a)e=a[c],c in this.data?b.push(this.data[c]=e):b.push(void 0);return b};return a}(puremvc.Proxy);
com.akamai.amp.core.FlashWrapper=function(b){function a(b,u,x){var A,q,w,p=this;this.id=b;this.config=u;this.dispatcher=null!=x?x:new c(this);d=com.akamai.amp.core.Logger;c=com.akamai.amp.events.EventDispatcher;e=com.akamai.amp.events.Event;f=com.akamai.amp.core.Utils;k=com.akamai.amp.core.utils.XMLUtils;h=com.akamai.amp.AkamaiMediaPlayer;g=com.akamai.amp.player.FlashNotifications;l=com.akamai.amp.player.Notifications;m=com.akamai.amp.player.view.FlashMediator;n=com.akamai.amp.player.view.LocalizationWrapper;
s=com.akamai.amp.player.model.TokenizationProxy;v=com.akamai.amp.plugins.PluginRegistry;a.__super__.constructor.call(this,this.id);this.flashObjectID+=Date.now();x=/debug\=true/.test(location.search);this.logger=d;this.plugins={};this.features={};this.media={};b=this.config.flash||{};u=b.swf||"amp.swf";x&&null!=b.debug&&(u=b.debug);w=b.version||"10.1";A=b.expressInstallSWF||"playerProductInstall.swf";this.registerProxy(new s);this.container=document.getElementById(this.id);this.registerMediator(new m(this.container));
this.registerMediator(new n(this.config));this.video=document.createElement("div");this.video.id=this.video.name=this.flashObjectID;this.container.appendChild(this.video);this.createPlugins();q=this.createParams(b);x=this.createAttributes(b);this.flashvars=this.createFlashVars(b);null==this.flashvars.settings_url&&(this.flashvars.settings_xml=this.createXML(this.config));swfobject.embedSWF(u,this.flashObjectID,"100%","100%",w,A,this.flashvars,q,x,function(a){return p.createdHandler(a)})}__extends(a,
b);a.name="FlashWrapper";a.prototype.flashObjectID="flashObject";a.prototype.dispatcher=null;a.prototype.logger=null;a.prototype.video=null;a.prototype.config=null;a.prototype.id=null;a.prototype.container=null;a.prototype.playState=null;a.prototype.loaded=!1;a.prototype.playWhenLoaded=!1;a.prototype.flashvars=null;a.prototype.plugins=null;a.prototype.features=null;a.prototype.seeking=!1;a.prototype.paused=!1;a.prototype.ended=!1;a.prototype.media=null;a.prototype.muted=!1;var d,c,e,f,k,h,g,l,m,n,
s,v;a.prototype.createPlugins=function(){var a,c,d,b;b=[];for(c in v)if(d=v[c],c in this.config&&!1!==this.config[c].enabled){try{if(a=eval(d.flash),null==a){this.logger.debug("Plugin could not be found: ",d.flash);continue}}catch(e){this.logger.debug("Plugin could not be found: ",d.flash)}this.plugins[c]=new a(this,this.config[c]);b.push(this.registerMediator(this.plugins[c]))}return b};a.prototype.createParams=function(a){var c;c={allowFullScreen:!0,allowScriptAccess:"always",wmode:"direct",bgColor:"#000000"};
null!=a.params&&(null!=a.params.allowFullScreen&&(c.allowFullScreen=a.params.allowFullScreen),null!=a.params.allowScriptAccess&&(c.allowScriptAccess=a.params.allowScriptAccess),null!=a.params.wmode&&(c.wmode=a.params.wmode),null!=a.params.bgColor&&(c.bgColor=a.params.bgColor));return c};a.prototype.createAttributes=function(a){var c;c={id:this.flashObjectID,name:this.flashObjectID};null!=a.attributes&&(null!=a.attributes.id&&(c.id=a.attributes.id),null!=a.attributes.name&&(c.name=a.attributes.name));
return c};a.prototype.createFlashVars=function(a){var c,d;a=a.vars||{};null!=this.config.autoplay&&(a.auto_play=this.config.autoplay);null!=this.config.rules&&f.mergeRules(this.config.rules);a.hinting_rules=escape(JSON.stringify(f.rules));null!=this.config.media&&(null!=this.config.media.src&&(this.setSrc(this.config.media.src),a.video_url=escape(this.config.media.src)),null!=this.config.media.medium&&(this.setMedium(this.config.media.medium),a.medium=this.config.media.medium),null!=this.config.media.source&&
0<this.config.media.source.length&&(this.setSource(this.config.media.source),a.video_url=escape(this.media.src)),null!=this.config.media.title&&(a.title=escape(this.config.media.title)),null!=this.config.media.poster&&(a.poster=escape(this.config.media.poster)),null!=this.config.media.temporalType&&(a.temporalType=this.config.media.temporalType));"audio"===this.getMedium()&&(a.controls=!0,a.auto_hide=-1);if(null!=(null!=(c=this.config.ima)?null!=(d=c.overlay)?d.delay:void 0:void 0))a.overlay_ad_delay=
this.config.ima.overlay.delay;null!=this.config.controls&&null!=this.config.controls.mode&&(a.controls_mode=this.config.controls.mode);null!=this.config.volume&&(a.volume=this.config.volume);null!=this.config.target&&(a.externalTarget=this.config.target);null!=this.config.name&&(a.core_player_name=this.config.name);null!=this.config.domain&&(a.embedDomain=a.domain=this.config.domain);a.auto_replay=!0===this.config.loop;null!=this.config.ticker&&!1!==this.config.ticker.enabled&&(null!=this.config.ticker.url&&
(a.ticker_text_url=this.config.ticker.url),null!=this.config.ticker.interval&&(a.ticker_polling_interval=this.config.ticker.interval),null!=this.config.ticker.speed&&(a.ticker_speed=this.config.ticker.speed));null!=this.config.fullscreen&&(a.fullscreen_enabled=!1!==this.config.fullscreen.enabled);null!=this.config.params&&(a.params=escape(JSON.stringify(this.config.params)));this.sendNotification(g.CREATE_FLASH_VARS,{flashvars:a,config:this.config});return a};a.prototype.createXML=function(a){var c;
c=h.config.xml;this.sendNotification(g.CREATE_XML,{config:a,xml:c});a=k.serialize(c);a=a.match(/<application>[\w\W\s\S\d\D]*<\/application>/)[0]||a;a=a.replace(/[\n\r\t]/g,"");return escape(a)};a.prototype.getConfigXML=function(){var a;a=document.querySelector("param[name\x3dflashvars]").value;a=unescape(a.split("\x26").pop()).replace("settings_xml\x3d","")+"\n";return k.parse(a)};a.prototype.getFlashVars=function(){return this.flashvars};a.prototype.createdHandler=function(a){var c=this;this.video=
document.getElementById(this.flashObjectID);this.video.eventHandler=function(a,d){return c.eventHandler(a,d)};this.sendNotification(g.FLASH_CREATED);if(null!=this.getMedium())return this.setMedium(this.media.medium)};a.prototype.eventHandler=function(a,c){var d,b,f;try{a!==g.TIME_UPDATE&&(a!==g.AD_PLAYBACK_PROGRESS&&a!==g.AD_TIME_ELAPSED&&a!==g.CAPTION_DATA_CHANGE)&&this.logger.log(a,c);switch(a){case g.READY:f=b="ready";break;case g.RESET:b="ready";break;case g.LOADING:f="loadstart";break;case g.PLAYER_ERROR:f=
b="error";break;case g.MEDIA_ERROR:f=b="error";break;case g.ERROR_STREAM_NOT_FOUND:f=b="error";break;case g.CAPABILITY_CHANGE:d=c.type;"canPlayChange"===d&&!0===c.enabled?(f="canplay",this.loaded=!0,!0===this.playWhenLoaded&&(this.playWhenLoaded=!1,this.play())):"canSeekChange"===d&&!0===c.enabled?f="canplaythrough":"temporalChange"===d&&!0===c.enabled&&(f="loadedmetadata");break;case g.PLAYBACK_OPEN:f="play";break;case g.PLAYING:f=b="playing";this.paused=this.ended=!1;break;case g.ENDED:f=b="ended";
this.ended=!0;break;case g.PAUSED:f="pause";b="paused";this.paused=!0;break;case g.BUFFERING:"akamai-ended"!==this.className&&(f=b="waiting");break;case g.DURATION_CHANGE:f="durationchange";break;case g.VOLUME_CHANGE:f="volumechange";break;case g.TIME_UPDATE:f="timeupdate";break;case g.SEEKING_CHANGE:f=c.seeking?"seeking":"seeked";this.seeking=c.seeking;break;case g.ERROR:this.logger.error(c);f=b="error";break;default:f=a}this.sendNotification(a,c);null==f&&(f=a);this.dispatcher.dispatchEvent(new e(f,
c));return this.setPlayState(b)}catch(k){return this.logger.error(k)}};a.prototype.setPlayState=function(a){if(null!=a&&a!==this.playState)return this.container.className=this.container.className.replace(" akamai-"+this.playState,""),this.container.className+=" akamai-"+a,this.playState=a};a.prototype.canPlayType=function(a){return 0<=__indexOf.call(f.flashTypes,a)?"maybe":""};a.prototype.setMedia=function(a){if(a!==this.media)return this.media=a,null!=this.playState&&this.setPlayState("ready"),null!=
a.src&&this.setSrc(a.src),null!=a.source&&0<a.source.length&&this.setSource(a.source),this.sendNotification(l.MEDIA_CHANGE,a),this.loaded=!0,this.video.loadURL(this.media.src,a),a};a.prototype.getMedia=function(){return this.media};a.prototype.load=function(){this.loaded=!0;return this.video.loadURL(this.media.src)};a.prototype.play=function(){if(this.loaded)return this.video.unpause();this.playWhenLoaded=!0;this.load()};a.prototype.replay=function(){return this.video.replay()};a.prototype.pause=
function(){return this.video.pause()};a.prototype.end=function(){return this.video.stopPlayer()};a.prototype.setMuted=function(a){this.muted=a;return!0===a?this.player.mute():this.player.unmute()};a.prototype.getMuted=function(){return this.muted};a.prototype.setCurrentTime=function(a){this.video.jumpToTime(a);return a};a.prototype.getCurrentTime=function(a){return this.video.getCurrentTime()};a.prototype.getSrc=function(a){return this.video.getURL()};a.prototype.setSrc=function(a){this.media.src=
a;this.loaded=!1;this.setMedium(f.getMimeType(a));return a};a.prototype.getParams=function(){return this.player.getParams()};a.prototype.setParams=function(a){this.player.setParams(a);return a};a.prototype.setAutoplay=function(a){};a.prototype.getAutoplay=function(){};a.prototype.setLoop=function(a){};a.prototype.getLoop=function(){};a.prototype.getMedium=function(){return this.media.medium};a.prototype.setMedium=function(a){null!=this.media.medium&&null!=this.container&&(this.container.className=
this.container.className.replace(" akamai-medium-"+this.media.medium,""));this.media.medium=/audio/.test(a)?"audio":"video";null!=this.container&&(this.container.className+=" akamai-medium-"+this.media.medium);return a};a.prototype.setSource=function(a){var c,d=this;if(!(null==a||1>a.length)){this.media.source=a;this.loaded=!1;c=f.selectSource(a,function(a){return d.canPlayType(a)});if(null!=(null!=c?c.src:void 0)&&""!==c.src)this.setSrc(c.src),"undefined"!==typeof type&&null!==type&&this.setMedium(type);
else throw Error("No valid source could be found");return a}};a.prototype.getSource=function(a){return this.media.source};a.prototype.setVolume=function(a){this.video.setVolume(a);return a};a.prototype.getVolume=function(){return this.video.getVolume()};a.prototype.getDuration=function(){return this.video.getDuration()};a.prototype.getSeeking=function(){return this.seeking};a.prototype.getPaused=function(){return this.paused};a.prototype.getEnded=function(){return this.ended};a.prototype.enterFullScreen=
function(){};a.prototype.exitFullScreen=function(){return this.video.exitFullScreen()};return a}(puremvc.Facade);
com.akamai.amp.core.QueryString=function(){function b(){}b.name="QueryString";b.construct=function(){var a;a=window.location.search;null!=a&&a.replace(/([^?=&]+)(=([^&]*))?/g,function(a,c,e,f){b[c]=unescape(f)});return!0};b.constructed=b.construct();b.serialize=function(a,d){var c,b,f,k;f=[];for(b in a)k=a[b],c=d?d+"["+b+"]":b,f.push("object"===typeof k?this.serialize(k,c):encodeURIComponent(c)+"\x3d"+encodeURIComponent(k));return f.join("\x26")};return b}();window.QueryString=com.akamai.amp.core.QueryString;
com.akamai.amp.core.Logger=function(){function b(){}var a;b.name="Logger";a=function(){};b.enabled=!1;b.enable=function(d){null==d&&(d=/debug\=true/.test(location.search.toLowerCase()));this.enabled=d;if(!this.enabled)return this.log=this.trace=this.debug=this.info=this.warn=this.error=this.fatal=a};b.log=function(){try{return console.log.apply(console,arguments)}catch(a){}};b.trace=function(){try{return console.trace.apply(console,arguments)}catch(a){}};b.debug=function(){try{return console.debug.apply(console,
arguments)}catch(a){return this.log.apply(this,arguments)}};b.info=function(){try{return console.info.apply(console,arguments)}catch(a){}};b.warn=function(){try{return console.warn.apply(console,arguments)}catch(a){}};b.error=function(){try{return console.error.apply(console,arguments)}catch(a){return this.log.apply(this,arguments)}};b.fatal=function(){try{return console.fatal.apply(console,arguments)}catch(a){}};return b}();
com.akamai.amp.core.Utils=function(){function b(){}b.name="Utils";b.blankImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjI2QkJDQTBCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjI2QkJDQTFCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODg4NjdFQkIzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODg4NjdFQ0IzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu0++ecAAAAGUExURf///wAAAFXC034AAAABdFJOUwBA5thmAAAADElEQVR42mJgAAgwAAACAAFPbVnhAAAAAElFTkSuQmCC";
b.flashTypes=["video/mp4","video/x-flv","video/f4m","application/smil","application/smil+xml"];b.mimeTypes={mp4:"video/mp4",flv:"video/x-flv",f4m:"video/f4m",smil:"application/smil",m3u8:"application/x-mpegURL",mp3:"audio/mpeg",json:"application/json",txt:"text/plain",xml:"application/xml",ogv:"video/ogg",webm:"video/webm"};b.rules={flashTablets:{label:"Android 2 \x26 3 or Kindle Fire 1",regexp:"Android [23]|Silk/1"},html5Phones:{label:"iPhone",regexp:"iPhone"},html5Tablets:{label:"HTML5 Tablets",
regexp:"iPad|Android 4|Silk/2"},desktop:{label:"Desktop",regexp:"^((?!iPad|iPhone|Android|BlackBerry|PlayBook|Silk).)*$"}};b.mergeRules=function(a){var d,c,e;e=[];for(d in a)c=a[d],e.push(b.rules[d]=c);return e};b.checkRules=function(a){var d,c,e;if(null!=a&&0<a.length){c=0;for(e=a.length;c<e;c++)if(d=a[c],d=b.rules[d])if(d=RegExp(d.regexp),d.test(navigator.userAgent))return!0}return!1};b.selectSource=function(a,d){var c,e,f;e=0;for(f=a.length;e<f;e++)if(c=a[e],b.checkRules(c.rules))return c;e=0;
for(f=a.length;e<f;e++)if(c=a[e],""!==d(c.type||b.getMimeType(c.src)))return c;return null};b.getMimeType=function(a){return this.mimeTypes[b.getFileExtension(a)]};b.selectTrack=function(a,d){var c,b,f,k;f=0;for(k=a.length;f<k;f++)if(c=a[f],c.kind===d){b=c;break}return b};b.isHTML5=function(){var a,d,c;a=/Android 4/.test(navigator.userAgent);c=/Silk\/2/.test(navigator.userAgent);d=/BlackBerry;|PlayBook|BB10/.test(navigator.userAgent);return this.isIOS()||a||c||d};b.isIOS=function(){var a;a=/iPad|iPhone|iPod/i;
return a.test(navigator.platform)||a.test(navigator.userAgent)};b.hasFlash=function(){return swfobject.hasFlashPlayerVersion("1")};b.xmlToJson=function(a){var d,c,b,f,k;b={};9===a.nodeType&&(a=a.firstChild);if(1===a.nodeType){if(0<a.attributes.length){b["@attributes"]={};c=a.attributes;d=f=0;for(k=c.length;f<k;d=++f)d=c[d],b["@attributes"][d.nodeName]=d.nodeValue}}else 3===a.nodeType&&(b=a.nodeValue);if(a.hasChildNodes()){k=a.childNodes;d=a=0;for(f=k.length;a<f;d=++a)if(c=k[d],3!==c.nodeType||/\S/.test(c.nodeValue))d=
c.nodeName.replace(/:/,"-"),c=this.xmlToJson(c),null==c["@attributes"]&&null!=c["#text"]&&(c=c["#text"]),null==b[d]?b[d]=c:(b[d]instanceof Array||(b[d]=[b[d]]),b[d].push(c))}return b};b.getXHR=function(){var a;try{a=new XMLHttpRequest}catch(d){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}}return a};b.get=function(a,d,c,e){var f,k,h;null==d&&(d={});null==c&&(c=!1);null==e&&(e=[]);k=b.getXHR();try{null!=d.onload&&(k.onload=d.onload),null!=
d.onerror&&(k.onerror=d.onerror),null!=d.onprogress&&(k.onprogress=d.onprogress)}catch(g){null!=d.onload&&(k.onreadystatechange=d.onload)}k.open("GET",a,c);c=0;for(h=e.length;c<h;c++)for(f in a=e[c],a)d=a[f],k.setRequestHeader(f,d);k.send();return k};b.send=function(a,d,c,e,f){var k,h,g;null==c&&(c={});null==e&&(e=!1);null==f&&(f=[{"Content-Type":"String"}]);h=b.getXHR();null!=c.onload&&(h.onload=c.onload);null!=c.onerror&&(h.onerror=c.onerror);null!=c.onprogress&&(h.onprogress=c.onprogress);h.open("POST",
a,e);e=0;for(g=f.length;e<g;e++)for(k in a=f[e],a)c=a[k],h.setRequestHeader(k,c);h.send(d);return h};b.loadAMPScript=function(a,d){return this.loadScript(a,d,com.akamai.amp.AMPConfig.getScriptTag().parentNode)};b.loadScript=function(a,d,c){var b;c=c||document.getElementsByTagName("head")[0];b=document.createElement("script");b.type="text/javascript";b.src=a;b.addEventListener?b.addEventListener("load",d,!1):b.readyState&&(b.onreadystatechange=d);return c.appendChild(b)};b.loadStyleSheet=function(a){var d,
c;d=document.getElementsByTagName("head")[0];c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=a;return d.appendChild(c)};b.read=function(a,d,c,e){var f,k;null==d&&(d={});null==c&&(c="");null==e&&(e=[]);try{return k=this.get(a,d,!1,e),f=k.responseText||k.text,c===b.mimeTypes.json?JSON.parse(f):c===b.mimeTypes.xml&&null!=k.responseXML?k.responseXML:f}catch(h){return"undefined"!==typeof console&&null!==console&&"function"===typeof console.error&&console.error("Read Error: ",
h),null}};b.getFileExtension=function(a){return a.split(".").pop().replace(/\?.*/,"")};b.getResponseHeader=function(a,d,c){var e;null==c&&(c={});e=b.getXHR();null!=c.onerror&&(e.onerror=c.onerror);e.open("HEAD",a,!1);e.send();return e.getResponseHeader(d)};b.getResponseHeaders=function(a,d,c){var e,f,k;null==c&&(c={});e=b.getXHR();null!=c.onerror&&(e.onerror=c.onerror);e.open("HEAD",a,!1);e.send();c={};if(null==d)return e.getAllResponseHeaders();f=0;for(k=d.length;f<k;f++)a=d[f],c[a]=e.getResponseHeader(a);
return c};b.isTouchDevice=function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}};b.clamp=function(a,d,c){a<d&&(a=d);a>c&&(a=c);return a};b.beacon=function(a){var d;d=document.getElementById("beaconId");null==d&&(d=document.createElement("img"),d.setAttribute("id","beaconId"),d.setAttribute("height",0),d.setAttribute("width",0),document.body.appendChild(d),d.style.display="none");return d.setAttribute("src",a)};b.getElementOffset=function(a){var d;d={left:0,top:0};if(a.offsetParent){d.left=
a.offsetLeft;for(d.top=a.offsetTop;a=a.offsetParent;)d.left+=a.offsetLeft,d.top+=a.offsetTop}return d};b.override=function(a,d){var c,e;if(null==a)return d;if(null!=d)for(c in d)e=d[c],"object"===typeof e?(null==a[c]&&(a[c]=e instanceof Array?[]:{}),a[c]=b.override(a[c],e)):a[c]=e;return a};b.clone=function(a){var d,c,b;d={};for(c in a)b=a[c],d[c]=b;return d};b.formatTimecode=function(a,d){var c;a=parseInt(a);if(isNaN(a))return"00:00";c=b.formatZeroFill(a%60);a=parseInt(a/60);c=b.formatZeroFill(a%
60)+":"+c;a=parseInt(a/60);0<a&&(c=b.formatZeroFill(a)+":"+c);3600<=d&&5===c.length&&(c="00:"+c);return c};b.formatZeroFill=function(a){var d;d=a.toString();10>a&&(d="0"+d);return d};b.flattenTimecode=function(a){var d;if(null==a||""===a)return NaN;a=a.split(":");4===a.length?a.pop():3===a.length&&a[2].indexOf(".")&&(a[2]=a[2].split(".").shift());for(d=parseInt(a.pop());0<a.length;)d+=Math.pow(60,a.length)*parseInt(a.shift());return d};b.cacheBust=function(a,d,c){var b;null==d&&(d="cacheBust");null==
c&&(c=Date.now());b=-1===a.indexOf("?")?"?":"\x26";return a+b+d+"\x3d"+c};b.formatStyleName=function(a){return a.replace(/([A-Z])/,"-$1").toLowerCase()};b.trim=function(a){return a.replace(/^\s*(.*)/,"$1").replace(/(.*)\s*$/,"$1")};return b}();window.Utils=com.akamai.amp.core.Utils;com.akamai.amp.player.model.DisplayState=function(){function b(){}b.name="DisplayState";b.NORMAL="normal";b.FULL_SCREEN="full-screen";return b}();
com.akamai.amp.events.EventHandler=function(){function b(d,c,e){var f;this.target=d;this.type=c;this.handler=e;this.trigger=__bind(this.trigger,this);a=com.akamai.amp.core.Utils;b.instances.push(this);this.types=[];(f=this.type,0<=__indexOf.call(b.EVENTS,f))?a.isTouchDevice()?(this.types.push(b.TOUCH_EVENTS[this.type]),this.type===b.TOUCH_EVENTS[1]&&this.types.push(b.TOUCH_EVENTS[4])):this.types.push(b.MOUSE_EVENTS[this.type]):this.type instanceof Array?this.types=this.type:this.types.push(this.type);
this.bind()}b.name="EventHandler";b.PRESS=0;b.RELEASE=1;b.MOVE=2;b.CLICK=3;b.EVENTS=[b.PRESS,b.RELEASE,b.MOVE,b.CLICK];b.MOUSE_EVENTS=["mousedown","mouseup","mousemove","click"];b.TOUCH_EVENTS=["touchstart","touchend","touchmove","click","touchcancel"];b.instances=[];b.create=function(a,c,e){return new b(a,c,e)};b.bind=function(a,c){var e,f,k,h,g;h=b.instances;g=[];e=f=0;for(k=h.length;f<k;e=++f)e=h[e],e.target===a&&(null!=c&&e.type!==c||g.push(e.bind()));return g};b.unbind=function(a,c){var e,f,
k,h,g;h=b.instances;g=[];e=f=0;for(k=h.length;f<k;e=++f)e=h[e],e.target===a&&(null!=c&&e.type!==c||g.push(e.unbind()));return g};b.clear=function(a,c){var e,f,k,h,g,l;g=b.instances;l=[];e=k=0;for(h=g.length;k<h;e=++k)if(f=g[e],(null!=f?f.target:void 0)===a&&!(null!=c&&f.type!==c))f.clear(),l.push(b.instances.splice(e,1));return l};b.prototype.types=null;var a;b.prototype.bind=function(){var a,c,b,f,k;f=this.types;k=[];c=0;for(b=f.length;c<b;c++)a=f[c],null!=this.target.addEventListener?k.push(this.target.addEventListener(a,
this.trigger,!1)):null!=this.target.attachEvent?k.push(this.target.attachEvent("on"+a,this.trigger)):k.push(void 0);return k};b.prototype.unbind=function(){var a,c,b,f,k;f=this.types;k=[];c=0;for(b=f.length;c<b;c++)a=f[c],null!=this.target.removeEventListener?k.push(this.target.removeEventListener(a,this.trigger)):null!=this.target.attachEvent?k.push(this.target.removeEvent("on"+a,this.trigger)):k.push(void 0);return k};b.prototype.clear=function(){this.unbind();return this.types=this.type=this.handler=
this.target=null};b.prototype.trigger=function(a){return this.handler(a)};return b}();com.akamai.amp.player.controller.DetermineRendererCommand=function(b){function a(){d=com.akamai.amp.player.model.ApplicationStateProxy;c=com.akamai.amp.player.model.RenderMode;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="DetermineRendererCommand";var d,c;a.prototype.execute=function(a){return this.facade.retrieveProxy(d.NAME).setRenderMode(c.HTML)};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.PluginRegistry=function(){function b(){}b.name="PluginRegistry";b.feed={html:"com.akamai.amp.plugins.feed.FeedPlugin",flash:"com.akamai.amp.plugins.feed.FeedWrapper"};b.branding={html:"com.akamai.amp.plugins.branding.BrandingPlugin",flash:"com.akamai.amp.plugins.branding.BrandingWrapper"};b.nielsen={html:"com.akamai.amp.plugins.nielsen.NielsenPlugin",flash:"com.akamai.amp.plugins.nielsen.NielsenWrapper"};b.comscore={html:"com.akamai.amp.plugins.comscore.ComscorePlugin",flash:"com.akamai.amp.plugins.comscore.ComscoreWrapper"};
b.auditude={html:"com.akamai.amp.plugins.auditude.AuditudePlugin",flash:"com.akamai.amp.plugins.auditude.AuditudeWrapper"};b.ima={html:"com.akamai.amp.plugins.ima.IMAPlugin",flash:"com.akamai.amp.plugins.ima.IMAWrapper"};b.omniture={html:"com.akamai.amp.plugins.omniture.OmniturePlugin",flash:"com.akamai.amp.plugins.omniture.OmnitureWrapper"};b.mediaanalytics={html:"com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsPlugin",flash:"com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsWrapper"};b.recommendations=
{html:"com.akamai.amp.plugins.recommendations.RecommendationsPlugin",flash:"com.akamai.amp.plugins.recommendations.RecommendationsWrapper"};b.autoadvance={html:"com.akamai.amp.plugins.autoadvance.AutoAdvancePlugin",flash:"com.akamai.amp.plugins.autoadvance.AutoAdvanceWrapper"};b.outbrain={html:"com.akamai.amp.plugins.outbrain.OutbrainPlugin",flash:null};b.ticker={html:"com.akamai.amp.plugins.ticker.TickerPlugin",flash:null};b.captioning={html:"com.akamai.amp.plugins.captioning.CaptioningPlugin",flash:"com.akamai.amp.plugins.captioning.CaptioningWrapper"};
b.eventmanagement={html:"com.akamai.amp.plugins.eventmanagement.EventManagementPlugin",flash:"com.akamai.amp.plugins.eventmanagement.EventManagementWrapper"};b.share={html:"com.akamai.amp.plugins.share.SharePlugin",flash:"com.akamai.amp.plugins.share.ShareWrapper"};b.sharewindow={html:"com.akamai.amp.plugins.sharewindow.ShareWindowPlugin",flash:"com.akamai.amp.plugins.share.ShareWrapper"};b.ais={html:"com.akamai.amp.plugins.ais.AISPlugin",flash:"com.akamai.amp.plugins.ais.AISWrapper"};b.info={html:"com.akamai.amp.plugins.info.InfoPlugin",
flash:"com.akamai.amp.plugins.info.InfoWrapper"};return b}();
com.akamai.amp.player.view.PublicAPIMediator=function(b){function a(b){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.events.EventHandler;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="PublicAPIMediator";a.NAME="PublicAPIMediator";a.prototype.eventHandler=null;var d,c;a.prototype.onRegister=function(){return a.__super__.onRegister.call(this)};a.prototype.listNotificationInterests=function(){return[d.PLAYBACK_CORE_CHANGE,d.DISPATCH_EVENT]};a.prototype.handleNotification=
function(a){switch(a.getName()){case d.PLAYBACK_CORE_CHANGE:return this.addEventListeners(a.getBody());case d.DISPATCH_EVENT:return this.facade.dispatchEvent(a.getBody())}};a.prototype.addEventListeners=function(a){var d=this;null!=this.eventHandler&&this.eventHandler.clear();return this.eventHandler=new c(a,"loadstart loadeddata play playing ended timeupdate durationchange error progress stalled emptied suspend abort volumechange seeking seeked loadedmetadata pause waiting canplay canplaythrough".split(" "),
function(a){return d.facade.dispatchEvent(a)})};return a}(puremvc.Mediator);
com.akamai.amp.player.controller.CreatePlaybackCoreCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="CreatePlaybackCoreCommand";var d;a.prototype.execute=function(a){a=document.querySelector("[id\x3d"+this.facade.multitonKey+"] \x3e video");a=null!=a?a:document.createElement("video");a.preload="auto";return this.sendNotification(d.CHANGE_PLAYBACK_CORE,a)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.InitPluginsCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.plugins.PluginRegistry;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="InitPluginsCommand";var d,c;a.prototype.execute=function(a){var b,k,h,g,l;this.facade.logger.debug("InitPluginsCommand");b=a.getBody();if(null==(a=this.facade).plugins)a.plugins={};a=[];for(g in c)if(l=c[g],g in b&&(h=b[g],!(null==h||!1===h.enabled)&&null==this.facade.plugins[g])){try{k=
eval(l.html)}catch(m){this.facade.logger.debug("Plugin could not be found: ",l.html);continue}null==k?this.facade.logger.debug("Plugin could not be created: ",l.html):(h=new k(this.facade,h),this.facade.plugins[g]=h,a.push(h))}this.sendNotification(d.REGISTER_PLUGINS,a);b=[];k=0;for(g=a.length;k<g;k++)h=a[k],b.push(this.sendNotification(d.REGISTER_PLUGIN,h));return b};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.view.VideoMediator=function(b){function a(d){a.__super__.constructor.call(this,a.NAME,d)}__extends(a,b);a.name="VideoMediator";a.NAME="VideoMediator";a.prototype.onRegister=function(){a.__super__.onRegister.call(this);return this.viewComponent.classList.add("akamai-video")};return a}(puremvc.Mediator);
com.akamai.amp.player.controller.InitPlaybackCoreCommand=function(b){function a(){d=com.akamai.amp.player.controller.DetermineRendererCommand;c=com.akamai.amp.player.controller.CreatePlaybackCoreCommand;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="InitPlaybackCoreCommand";var d,c;a.prototype.initializeMacroCommand=function(){this.addSubCommand(d);return this.addSubCommand(c)};return a}(puremvc.MacroCommand);
com.akamai.amp.player.view.PlayPauseMediator=function(b){function a(b){d=com.akamai.amp.events.EventHandler;c=com.akamai.amp.player.Notifications;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="PlayPauseMediator";a.NAME="PlayPauseMediator";var d,c;a.prototype.onRegister=function(){var b=this;a.__super__.onRegister.call(this);d.create(this.viewComponent,d.CLICK,function(a){a.stopImmediatePropagation();b.sendNotification(c.TOGGLE_PLAY_PAUSE);return!1});return this.viewComponent.classList.add("akamai-play-pause-button")};
return a}(puremvc.Mediator);
com.akamai.amp.player.view.FullScreenMediator=function(b){function a(b){d=com.akamai.amp.events.EventHandler;c=com.akamai.amp.player.Notifications;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="FullScreenMediator";a.NAME="FullScreenMediator";a.prototype.clickHandler=null;var d,c;a.prototype.onRegister=function(){var b=this;a.__super__.onRegister.call(this);this.clickHandler=d.create(this.viewComponent,d.CLICK,function(a){a.stopImmediatePropagation();b.sendNotification(c.TOGGLE_FULL_SCREEN);
return!1});return this.viewComponent.classList.add("akamai-full-screen-button")};a.prototype.listNotificationInterests=function(){return[c.DISABLE_FULL_SCREEN,c.ENABLE_FULL_SCREEN]};a.prototype.handleNotification=function(a){var d;d=a.getName();a.getBody();switch(d){case c.DISABLE_FULL_SCREEN:return this.sendNotification(c.ADD_APPLICATION_STATE,"disable-full-screen"),this.clickHandler.unbind();case c.ENABLE_FULL_SCREEN:return this.sendNotification(c.REMOVE_APPLICATION_STATE,"disable-full-screen"),
this.clickHandler.bind()}};return a}(puremvc.Mediator);com.akamai.amp.player.view.LocalizedMediator=function(b){function a(c,b){d=com.akamai.amp.player.model.LocalizationProxy;a.__super__.constructor.call(this,c,b)}__extends(a,b);a.name="LocalizedMediator";a.NAME="LocalizedMediator";a.prototype.localizationManager=null;var d;a.prototype.initializeNotifier=function(c){a.__super__.initializeNotifier.call(this,c);return this.localizationManager=(this.facade.app||this.facade).retrieveProxy(d.NAME)};return a}(com.akamai.amp.modules.ModuleMediator);
com.akamai.amp.player.view.OverlayMediator=function(b){function a(c,b){null==b&&(b="div");d=com.akamai.amp.player.Notifications;"string"===typeof b&&(b=document.createElement(b));a.__super__.constructor.call(this,c,b)}__extends(a,b);a.name="OverlayMediator";a.NAME="OverlayMediator";var d;a.prototype.onRegister=function(){a.__super__.onRegister.call(this);return this.sendNotification(d.ADD_OVERLAY,this.viewComponent)};return a}(com.akamai.amp.player.view.LocalizedMediator);
com.akamai.amp.player.view.ErrorSlateMediator=function(b){function a(c){d=com.akamai.amp.player.Notifications;a.__super__.constructor.call(this,a.NAME,c)}__extends(a,b);a.name="ErrorSlateMediator";a.NAME="ErrorSlateMediator";a.prototype.message=null;var d;a.prototype.onRegister=function(){a.__super__.onRegister.call(this);this.viewComponent.classList.add("akamai-error-slate");this.message=document.createElement("div");this.message.classList.add("akamai-error-message");return this.viewComponent.appendChild(this.message)};
a.prototype.listNotificationInterests=function(){return[d.ERROR]};a.prototype.handleNotification=function(a){var b;switch(a.getName()){case d.ERROR:a=a.getBody();b="Error: ";switch(a.code){case MediaError.MEDIA_ERR_ABORTED:b+="Media was aborted.";break;case MediaError.MEDIA_ERR_DECODE:b+="Decode Error.";break;case MediaError.MEDIA_ERR_NETWORK:b+="Network Error.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:b+="Source not supported.";break;default:b+=a}return this.message.textContent=b}};return a}(puremvc.Mediator);
com.akamai.amp.player.view.LoadingOverlayMediator=function(b){function a(b){a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="LoadingOverlayMediator";a.NAME="LoadingOverlayMediator";a.prototype.onRegister=function(){this.viewComponent.classList.add("akamai-loading-overlay");return a.__super__.onRegister.call(this)};return a}(com.akamai.amp.player.view.OverlayMediator);
com.akamai.amp.player.view.WaitingOverlayMediator=function(b){function a(c){d=com.akamai.amp.player.model.localization.LocalizationConstants;a.__super__.constructor.call(this,a.NAME,c)}__extends(a,b);a.name="WaitingOverlayMediator";a.NAME="WaitingOverlayMediator";a.prototype.bar=null;var d;a.prototype.onRegister=function(){var c;this.viewComponent.classList.add("akamai-waiting-overlay");this.bar=document.createElement("div");this.bar.classList.add("akamai-waiting-bar");this.viewComponent.appendChild(this.bar);
c=document.createElement("div");c.classList.add("akamai-waiting-text");c.textContent=this.localizationManager.getString(d.MSG_BUFFERING);this.viewComponent.appendChild(c);return a.__super__.onRegister.call(this)};return a}(com.akamai.amp.player.view.OverlayMediator);
com.akamai.amp.player.view.PosterMediator=function(b){function a(c){d=com.akamai.amp.player.Notifications;a.__super__.constructor.call(this,a.NAME,c)}__extends(a,b);a.name="PosterMediator";a.NAME="PosterMediator";a.prototype.poster=null;var d;a.prototype.onRegister=function(){this.viewComponent.classList.add("akamai-poster-overlay");this.poster=document.createElement("div");this.poster.classList.add("akamai-poster-content");this.viewComponent.appendChild(this.poster);return a.__super__.onRegister.call(this)};
a.prototype.listNotificationInterests=function(){return[d.CHANGE_MEDIA]};a.prototype.handleNotification=function(a){switch(a.getName()){case d.CHANGE_MEDIA:if(this.poster.innerHTML="",a=a.getBody().poster,null!=a&&""!==a)return this.poster.innerHTML='\x3cimg src\x3d"'+a+'" class\x3d"akamai-poster-image" /\x3e'}};return a}(com.akamai.amp.player.view.OverlayMediator);
com.akamai.amp.player.view.ApplicationOverlayMediator=function(b){function a(c,b){d=com.akamai.amp.player.Notifications;null==b&&(b=a.NAME);a.__super__.constructor.call(this,b,c)}__extends(a,b);a.name="ApplicationOverlayMediator";a.NAME="ApplicationOverlayMediator";var d;a.prototype.onRegister=function(){a.__super__.onRegister.call(this);return this.viewComponent.classList.add("akamai-overlays")};a.prototype.listNotificationInterests=function(){return[d.ADD_OVERLAY,d.REMOVE_OVERLAY]};a.prototype.handleNotification=
function(a){var b;b=a.getName();a=a.getBody();switch(b){case d.ADD_OVERLAY:this.viewComponent.appendChild(a);break;case d.REMOVE_OVERLAY:this.viewComponent.removeChild(a)}};return a}(puremvc.Mediator);
com.akamai.amp.player.view.EndSlateMediator=function(b){function a(c){d=com.akamai.amp.player.Notifications;a.__super__.constructor.call(this,a.NAME,c)}__extends(a,b);a.name="EndSlateMediator";a.NAME="EndSlateMediator";var d;a.prototype.onRegister=function(){if(null!=this.config.getEndSlate())return this.viewComponent.classList.add("akamai-end-slate"),a.__super__.onRegister.call(this)};a.prototype.listNotificationInterests=function(){return[d.MEDIA_CHANGE]};a.prototype.handleNotification=function(a){var b;
switch(a.getName()){case d.MEDIA_CHANGE:b=a.getBody(),a=this.config.getEndSlate(),this.viewComponent.innerHTML="",null!=a&&(a=!0===a.usePoster?b.poster:a.url,null!=a&&""!==a&&(this.viewComponent.innerHTML='\x3cimg src\x3d"'+a+'" class\x3d"akamai-end-slate-image" /\x3e'))}};return a}(com.akamai.amp.player.view.OverlayMediator);
com.akamai.amp.player.view.ReplayOverlayMediator=function(b){function a(b){d=com.akamai.amp.events.EventHandler;c=com.akamai.amp.player.Notifications;e=com.akamai.amp.player.model.localization.LocalizationConstants;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="ReplayOverlayMediator";a.NAME="ReplayOverlayMediator";a.prototype.replay=null;a.prototype.icon=null;a.prototype.label=null;var d,c,e;a.prototype.onRegister=function(){var b=this;this.viewComponent.classList.add("akamai-replay-overlay");
this.replay=document.createElement("div");this.replay.classList.add("akamai-replay-button");this.viewComponent.appendChild(this.replay);d.create(this.replay,d.CLICK,function(a){a.stopImmediatePropagation();b.sendNotification(c.REPLAY);return!1});this.icon=document.createElement("span");this.icon.classList.add("akamai-replay-icon");this.replay.appendChild(this.icon);this.label=document.createElement("span");this.label.classList.add("akamai-replay-label");this.label.textContent=this.localizationManager.getString(e.MSG_REPLAY);
this.replay.appendChild(this.label);return a.__super__.onRegister.call(this)};return a}(com.akamai.amp.player.view.OverlayMediator);
com.akamai.amp.player.view.PlayOverlayMediator=function(b){function a(b){d=com.akamai.amp.events.EventHandler;c=com.akamai.amp.player.Notifications;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="PlayOverlayMediator";a.NAME="PlayOverlayMediator";var d,c;a.prototype.onRegister=function(){var b=this;d.create(this.viewComponent,d.CLICK,function(a){a.stopImmediatePropagation();a.preventDefault();b.sendNotification(c.TOGGLE_PLAY_PAUSE);return!1});this.viewComponent.classList.add("akamai-play-overlay");
return a.__super__.onRegister.call(this)};return a}(com.akamai.amp.player.view.OverlayMediator);
com.akamai.amp.player.view.TitleBarMediator=function(b){function a(b){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.core.Utils;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="TitleBarMediator";a.NAME="TitleBarMediator";a.prototype.title=null;a.prototype.description=null;var d,c;a.prototype.onRegister=function(){this.viewComponent.classList.add("akamai-title-bar");this.title=document.createElement("div");this.title.classList.add("akamai-title-text");this.viewComponent.appendChild(this.title);
this.description=document.createElement("div");this.description.classList.add("akamai-description-text");this.viewComponent.appendChild(this.description);return a.__super__.onRegister.call(this)};a.prototype.listNotificationInterests=function(){return[d.CHANGE_MEDIA]};a.prototype.handleNotification=function(a){var b;switch(a.getName()){case d.CHANGE_MEDIA:a=a.getBody();b=a.title;if(null==b||""===b||"undefined"===b)return this.viewComponent.classList.add("akamai-hidden");this.title.innerHTML=b;null!=
a.duration&&(this.title.innerHTML+=" - "+c.formatTimecode(a.duration));this.description.innerHTML=a.description?a.description:"";return this.viewComponent.classList.remove("akamai-hidden")}};return a}(com.akamai.amp.player.view.OverlayMediator);
com.akamai.amp.player.view.ProgressMediator=function(b){function a(b){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.core.Utils;e=com.akamai.amp.events.EventHandler;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="ProgressMediator";a.NAME="ProgressMediator";a.prototype.bufferValue=null;a.prototype.progressValue=null;a.prototype.scrubber=null;a.prototype.scrubTime=null;a.prototype.cuePoints=null;a.prototype.duration=0;a.prototype.scrubbing=!1;a.prototype.value=0;a.prototype.releaseHandler=
null;a.prototype.dragHandler=null;a.prototype.pressHandler=null;var d,c,e;a.prototype.onRegister=function(){var c,b=this;a.__super__.onRegister.call(this);this.viewComponent.classList.add("akamai-progress");this.bufferValue=document.createElement("div");this.bufferValue.classList.add("akamai-buffer-value");this.viewComponent.appendChild(this.bufferValue);this.progressValue=document.createElement("div");this.progressValue.classList.add("akamai-progress-value");this.viewComponent.appendChild(this.progressValue);
c=document.createElement("div");c.classList.add("akamai-seek-bar");this.viewComponent.appendChild(c);e.create(c,e.CLICK,function(a){a.stopImmediatePropagation();b.setValue(b.calculateValue(a.clientX));return!1});this.scrubber=document.createElement("div");this.scrubber.classList.add("akamai-scrubber");this.viewComponent.appendChild(this.scrubber);this.pressHandler=e.create(this.scrubber,e.PRESS,function(a){b.dragHandler.bind();b.releaseHandler.bind();b.scrubbing=!0;b.viewComponent.classList.add("akamai-scrubbing");
a.stopImmediatePropagation();return!1});this.releaseHandler=e.create(window,e.RELEASE,function(a){a.stopImmediatePropagation();b.dragHandler.unbind();b.releaseHandler.unbind();b.setValue(b.value);b.viewComponent.classList.remove("akamai-scrubbing");return b.scrubbing=!1});this.releaseHandler.unbind();this.dragHandler=e.create(window,e.MOVE,function(a){a.stopImmediatePropagation();b.updateValue(b.calculateValue(a.clientX?a.clientX:a.targetTouches[0].screenX));return!1});this.dragHandler.unbind();this.scrubTime=
document.createElement("div");this.scrubTime.classList.add("akamai-scrub-time");return this.viewComponent.appendChild(this.scrubTime)};a.prototype.listNotificationInterests=function(){return[d.MEDIA_CHANGE,d.TIME_UPDATE,d.DURATION_CHANGE,d.PROGRESS,d.ADD_CUE_POINTS,d.REMOVE_CUE_POINTS]};a.prototype.handleNotification=function(a){var c,b,e,l,m;switch(a.getName()){case d.MEDIA_CHANGE:return this.updateValue(0),this.bufferValue.style.width="0%";case d.TIME_UPDATE:if(!this.scrubbing)return this.updateValue(a.getBody()/
this.duration);break;case d.PROGRESS:return this.bufferValue.style.width=String(100*a.getBody()).substr(0,5)+"%";case d.DURATION_CHANGE:return this.duration=a.getBody();case d.ADD_CUE_POINTS:this.removeCuePoints();b=a.getBody();this.cuePoints=document.createElement("div");this.cuePoints.className="akamai-cue-points";this.viewComponent.appendChild(this.cuePoints);m=[];e=0;for(l=b.length;e<l;e++)a=b[e],0!==a&&-1!==a&&(c=document.createElement("div"),c.className="akamai-cue-point",c.style.left=100*(a/
this.duration)+"%",m.push(this.cuePoints.appendChild(c)));return m;case d.REMOVE_CUE_POINTS:return this.removeCuePoints()}};a.prototype.removeCuePoints=function(){if(null!=this.cuePoints)return this.cuePoints.innerHTML="",this.viewComponent.removeChild(this.cuePoints),this.cuePoints=null};a.prototype.setValue=function(a){this.updateValue(a);return this.sendNotification(d.SEEK,a*this.duration)};a.prototype.updateValue=function(a){this.value=a;!0===this.scrubbing&&(this.scrubTime.textContent=c.formatTimecode(this.value*
this.duration));this.scrubber.style.marginLeft="-"+Math.round(this.value*this.scrubber.clientWidth-1)+"px";return this.progressValue.style.width=this.scrubber.style.left=this.scrubTime.style.left=""+String(100*this.value).substr(0,5)+"%"};a.prototype.calculateValue=function(a){return c.clamp((a-c.getElementOffset(this.viewComponent).left)/this.viewComponent.offsetWidth,0,1)};return a}(puremvc.Mediator);
com.akamai.amp.player.view.VolumeMediator=function(b){function a(b){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.core.Utils;e=com.akamai.amp.events.EventHandler;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="VolumeMediator";a.NAME="VolumeMediator";a.prototype.slider=null;a.prototype.sliderView=null;a.prototype.valueView=null;a.prototype.trackView=null;a.prototype.handleView=null;a.prototype.buttonView=null;a.prototype.min=0;a.prototype.max=1;a.prototype.value=0.5;a.prototype.dragging=
!1;a.prototype.pressHandler=null;a.prototype.releaseHandler=null;a.prototype.dragHandler=null;var d,c,e;a.prototype.onRegister=function(){var c=this;a.__super__.onRegister.call(this);this.buttonView=document.createElement("div");this.buttonView.classList.add("akamai-volume-button");this.viewComponent.appendChild(this.buttonView);e.create(this.buttonView,e.PRESS,function(a){return c.viewComponent.classList.toggle("akamai-volume")});this.slider=document.createElement("div");this.slider.classList.add("akamai-slider");
this.viewComponent.appendChild(this.slider);this.sliderView=document.createElement("div");this.sliderView.classList.add("akamai-slider-area");this.slider.appendChild(this.sliderView);this.trackView=document.createElement("div");this.trackView.classList.add("akamai-slider-track");this.sliderView.appendChild(this.trackView);this.valueView=document.createElement("div");this.valueView.classList.add("akamai-slider-value");this.sliderView.appendChild(this.valueView);this.handleView=document.createElement("div");
this.handleView.classList.add("akamai-slider-handle");this.sliderView.appendChild(this.handleView);this.pressHandler=e.create(this.handleView,e.PRESS,function(a){c.dragHandler.bind();c.releaseHandler.bind();c.dragging=!0;a.stopImmediatePropagation();return!1});this.releaseHandler=e.create(window,e.RELEASE,function(a){c.dragHandler.unbind();c.releaseHandler.unbind();c.dragging=!1;c.viewComponent.classList.remove("akamai-volume");a.stopImmediatePropagation();return!1});this.releaseHandler.unbind();
this.dragHandler=e.create(window,e.MOVE,function(a){a.stopImmediatePropagation();c.setValue(c.calculateValue(a.clientY?a.clientY:a.targetTouches[0].screenY));return!1});return this.dragHandler.unbind()};a.prototype.setValue=function(a){return this.sendNotification(d.CHANGE_VOLUME,a)};a.prototype.updateValue=function(a){this.value=c.clamp(100*a,0,100);this.valueView.style.height=""+this.value+"%";return this.handleView.style.top=""+(100-this.value)+"%"};a.prototype.calculateValue=function(a){return 1-
c.clamp((a-c.getElementOffset(this.sliderView).top)/this.sliderView.offsetHeight,0,1)};a.prototype.listNotificationInterests=function(){return[d.VOLUME_CHANGE]};a.prototype.handleNotification=function(a){switch(a.getName()){case d.VOLUME_CHANGE:return this.updateValue(a.getBody())}};return a}(puremvc.Mediator);
com.akamai.amp.player.model.localization.LocalizationConstants=function(){function b(){}b.name="LocalizationConstants";b.MSG_LIVE="MSG_LIVE";b.MSG_REPLAY="MSG_REPLAY";b.MSG_BUFFERING="MSG_BUFFERING";b.MSG_CC="MSG_CC";return b}();
com.akamai.amp.player.view.TimeDisplayMediator=function(b){function a(b){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.player.model.MediaProxy;e=com.akamai.amp.core.Utils;f=com.akamai.amp.player.model.localization.LocalizationConstants;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="TimeDisplayMediator";a.NAME="TimeDisplayMediator";a.prototype.currentTimeText=null;a.prototype.currentTime=0;a.prototype.separator=null;a.prototype.durationText=null;a.prototype.duration=null;
var d,c,e,f;a.prototype.onRegister=function(){var c;a.__super__.onRegister.call(this);this.viewComponent.classList.add("akamai-time-display");c=document.createElement("div");c.classList.add("akamai-live-display");c.textContent=this.localizationManager.getString(f.MSG_LIVE);this.viewComponent.appendChild(c);this.currentTimeText=document.createElement("div");this.currentTimeText.classList.add("akamai-current-time-display");this.currentTimeText.textContent="00:00";this.viewComponent.appendChild(this.currentTimeText);
this.separator=document.createElement("div");this.separator.classList.add("akamai-separator-display");this.separator.textContent=" / ";this.viewComponent.appendChild(this.separator);this.durationText=document.createElement("div");this.durationText.classList.add("akamai-duration-display");this.durationText.textContent="00:00";return this.viewComponent.appendChild(this.durationText)};a.prototype.listNotificationInterests=function(){return[d.TIME_UPDATE,d.DURATION_CHANGE]};a.prototype.handleNotification=
function(a){this.facade.retrieveProxy(c.NAME);switch(a.getName()){case d.TIME_UPDATE:return this.currentTime=a.getBody(),this.currentTimeText.textContent=e.formatTimecode(this.currentTime,this.duration);case d.DURATION_CHANGE:return this.duration=a.getBody(),this.currentTimeText.textContent=e.formatTimecode(this.currentTime,this.duration),this.durationText.textContent=e.formatTimecode(this.duration)}};return a}(com.akamai.amp.player.view.LocalizedMediator);
com.akamai.amp.player.view.ApplicationPluginMediator=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.modules.MessageEvent;this.plugins=[];this.registered=[];a.__super__.constructor.call(this,a.NAME,{})}__extends(a,b);a.name="ApplicationPluginMediator";a.NAME="ApplicationPluginMediator";a.prototype.plugins=null;a.prototype.registered=null;var d,c;a.prototype.onRegister=function(){return a.__super__.onRegister.call(this)};a.prototype.listNotificationInterests=function(){return[d.REGISTER_PLUGINS,
d.REGISTER_PLUGIN,d.PLUGIN_REGISTERED]};a.prototype.handleNotification=function(a){var b,k=this;switch(a.getName()){case d.REGISTER_PLUGINS:this.plugins=a.getBody();break;case d.REGISTER_PLUGIN:b=a.getBody();b.addEventListener(c.MESSAGE,function(a){if(a.origin!==k.multitonKey)return k.facade.passMessage(a.message,a.target.multitonKey)});this.facade.addEventListener(c.MESSAGE,function(a){if(a.origin===k.multitonKey)return b.passMessage(a.message,k.multitonKey)});if("function"===typeof b.onRegister)b.onRegister();
break;case d.PLUGIN_REGISTERED:b=a.getBody(),this.registered.push(b),this.facade.logger.debug("Plugin Registered: "+b.constructor.NAME),this.registered.length===this.plugins.length&&this.sendNotification(d.READY,this.facade.config)}};return a}(puremvc.Mediator);
com.akamai.amp.player.view.ControlsMediator=function(b){function a(b){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.player.view.PlayPauseMediator;e=com.akamai.amp.player.view.FullScreenMediator;f=com.akamai.amp.player.view.ProgressMediator;k=com.akamai.amp.player.view.TimeDisplayMediator;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="ControlsMediator";a.NAME="ControlsMediator";var d,c,e,f,k;a.prototype.onRegister=function(){var b,d;a.__super__.onRegister.call(this);this.viewComponent.classList.add("akamai-controls");
this.viewComponent.addEventListener("webkitTransitionStart",function(a){return console.debug("Transition Start!",a)});this.viewComponent.addEventListener("webkitTransitionEnd",function(a){return console.debug("Transition End!",a)});b=document.createElement("div");this.viewComponent.appendChild(b);this.facade.registerMediator(new c(b));b=document.createElement("div");this.viewComponent.appendChild(b);this.facade.registerMediator(new k(b));d=document.createElement("div");d.classList.add("akamai-progress-area");
this.viewComponent.appendChild(d);b=document.createElement("div");d.appendChild(b);this.facade.registerMediator(new f(b));b=document.createElement("div");b.classList.add("akamai-separator");return this.viewComponent.appendChild(b)};a.prototype.listNotificationInterests=function(){return[d.READY,d.ADD_CONTROL,d.REMOVE_CONTROL]};a.prototype.handleNotification=function(a){var c,b;c=a.getName();a=a.getBody();switch(c){case d.READY:if(!1!==(null!=(b=a.fullscreen)?b.enabled:void 0))return c=document.createElement("div"),
this.viewComponent.appendChild(c),this.facade.registerMediator(new e(c));break;case d.ADD_CONTROL:return this.viewComponent.appendChild(a);case d.REMOVE_CONTROL:return this.viewComponent.appendChild(a)}};return a}(puremvc.Mediator);
com.akamai.amp.player.view.ApplicationMediator=function(b){function a(b){d=com.akamai.amp.events.Event;c=com.akamai.amp.player.Notifications;e=com.akamai.amp.player.view.VideoMediator;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="ApplicationMediator";a.NAME="ApplicationMediator";a.prototype.core=null;a.prototype.container=null;a.prototype.medium=null;var d,c,e;a.prototype.onRegister=function(){var c;a.__super__.onRegister.call(this);this.viewComponent.classList.add("akamai-player");
this.viewComponent.classList.add("akamai-html5");this.container=document.createElement("div");this.container.classList.add("akamai-video-area");this.viewComponent.appendChild(this.container);/iPhone/.test(navigator.userAgent)?c="iphone":/iPad/.test(navigator.userAgent)?c="ipad":/Android/.test(navigator.userAgent)?c="android":/Mac|Win32/.test(navigator.platform)&&(c="desktop");if(null!=c)return this.viewComponent.classList.add("akamai-"+c)};a.prototype.listNotificationInterests=function(){return[c.DISPLAY_STATE_CHANGE,
c.ACTIVE_STATE_CHANGE,c.PLAY_STATE_CHANGE,c.PLAYBACK_CORE_CHANGE,c.ADD_APPLICATION_STATE,c.REMOVE_APPLICATION_STATE,c.MEDIUM_CHANGE,c.DURATION_CHANGE,c.TEMPORAL_TYPE_CHANGE]};a.prototype.handleNotification=function(a){var b,h,g;b=a.getName();a=a.getBody();switch(b){case c.PLAYBACK_CORE_CHANGE:return this.core&&this.container.removeChild(this.core),this.core=a,this.container.appendChild(this.core),this.facade.registerMediator(new e(this.core));case c.ACTIVE_STATE_CHANGE:case c.PLAY_STATE_CHANGE:case c.DISPLAY_STATE_CHANGE:case c.MEDIUM_CHANGE:return h=
a.newState,g=a.oldState,null!=g&&this.viewComponent.classList.contains("akamai-"+g)&&this.viewComponent.classList.remove("akamai-"+g),null!=h&&this.viewComponent.classList.add("akamai-"+h),this.sendNotification(c.DISPATCH_EVENT,new d(b.toLowerCase(),a));case c.ADD_APPLICATION_STATE:return this.viewComponent.classList.add("akamai-"+a);case c.REMOVE_APPLICATION_STATE:return this.viewComponent.classList.remove("akamai-"+a);case c.TEMPORAL_TYPE_CHANGE:return"live"===a?this.sendNotification(c.ADD_APPLICATION_STATE,
"live"):this.sendNotification(c.REMOVE_APPLICATION_STATE,"live");case c.DURATION_CHANGE:return 3600<a?this.sendNotification(c.ADD_APPLICATION_STATE,"long-form"):this.sendNotification(c.REMOVE_APPLICATION_STATE,"long-form")}};return a}(com.akamai.amp.modules.ModuleMediator);
com.akamai.amp.player.controller.InitModelCommand=function(b){function a(){d=com.akamai.amp.player.model.ApplicationStateProxy;c=com.akamai.amp.player.model.PlaybackProxy;e=com.akamai.amp.player.model.MediaProxy;f=com.akamai.amp.player.model.LocalizationProxy;k=com.akamai.amp.player.model.UserSettingsProxy;h=com.akamai.amp.player.model.TokenizationProxy;g=com.akamai.amp.player.model.ParamsProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="InitModelCommand";var d,c,e,f,k,h,
g;a.prototype.execute=function(a){var b;this.facade.logger.debug("InitModelCommand");a=a.getBody();this.facade.registerProxy(new f(a));this.facade.registerProxy(new d);this.facade.registerProxy(new c);this.facade.registerProxy(new e);this.facade.registerProxy(new k);b=this.facade.retrieveProxy(h.NAME);this.facade.registerProxy(new g(a.params));b.initialize()};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.InitViewCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.events.EventHandler;e=com.akamai.amp.player.model.ControlsMode;f=com.akamai.amp.player.view.ApplicationMediator;k=com.akamai.amp.player.view.ApplicationPluginMediator;h=com.akamai.amp.player.view.ControlsMediator;g=com.akamai.amp.player.view.TitleBarMediator;l=com.akamai.amp.player.view.PlayOverlayMediator;m=com.akamai.amp.player.view.ReplayOverlayMediator;n=com.akamai.amp.player.view.ErrorSlateMediator;
s=com.akamai.amp.player.view.LoadingOverlayMediator;v=com.akamai.amp.player.view.WaitingOverlayMediator;y=com.akamai.amp.player.view.PosterMediator;u=com.akamai.amp.player.view.ApplicationOverlayMediator;x=com.akamai.amp.player.view.EndSlateMediator;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="InitViewCommand";var d,c,e,f,k,h,g,l,m,n,s,v,y,u,x;a.prototype.execute=function(a){var b,w,p,C=this;this.facade.logger.debug("InitViewCommand");this.facade.container=b=document.getElementById(this.facade.multitonKey);
this.facade.registerMediator(new f(b));this.facade.registerMediator(new k);w=document.createElement("div");b.appendChild(w);this.facade.registerMediator(new u(w));c.create(w,c.CLICK,function(){return C.sendNotification(d.TOGGLE_ACTIVE)});this.facade.registerMediator(new y);this.facade.registerMediator(new s);this.facade.registerMediator(new v);this.facade.registerMediator(new l);this.facade.registerMediator(new m);this.facade.registerMediator(new x);this.facade.registerMediator(new g);w=document.createElement("div");
b.appendChild(w);this.facade.registerMediator(new n(w));w=document.createElement("div");b.appendChild(w);this.facade.registerMediator(new h(w));if((null!=(p=a.getBody().controls)?p.mode:void 0)===e.PERSISTENT)return b.classList.add("akamai-persistent-controls")};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.model.MediaProxy=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.player.model.PlaybackProxy;e=com.akamai.amp.player.model.ApplicationStateProxy;this.data={metadata:{}};a.__super__.constructor.call(this)}__extends(a,b);a.name="MediaProxy";a.NAME="MediaProxy";a.prototype.data=null;a.prototype.initialized=!1;var d,c,e;a.prototype.getData=function(){return this.data};a.prototype.setData=function(a){this.data.type=a.type;null!=a.source&&this.setSource(a.source);
null!=a.src&&this.setSrc(a.src);this.data.title=a.title;this.setDuration(a.duration);this.data.poster=a.poster;this.data.guid=a.guid;this.data.link=a.link;this.data.embed=a.embed;this.data.width=a.width;this.data.height=a.height;this.data.category=a.category;this.data.description=a.description;this.data.status=a.status;this.data.metadata=a.metadata||{};null!=a.isLive&&this.setIsLive(a.isLive);null!=a.temporalType&&this.setTemporalType(a.temporalType);null!=a.medium&&this.setMedium(a.medium);return a};
a.prototype.getGUID=function(){return this.data.guid};a.prototype.setGUID=function(a){return this.data.guid=a};a.prototype.getLink=function(){return this.data.link};a.prototype.setLint=function(a){return this.data.link=a};a.prototype.getEmbed=function(){return this.data.embed};a.prototype.setEmbed=function(a){return this.data.embed=a};a.prototype.getSrc=function(){return this.data.src};a.prototype.setSrc=function(a){this.data.src=a;if(null!=this.data.src&&null==this.data.type)return this.setType(Utils.getMimeType(this.data.src))};
a.prototype.getType=function(){return this.data.type};a.prototype.setType=function(a){this.data.type=a;a=/audio/.test(this.data.type)?"audio":"video";return this.setMedium(a)};a.prototype.getMedium=function(){return this.data.medium};a.prototype.setMedium=function(a){this.data.medium=a;return this.facade.retrieveProxy(e.NAME).setMedium(a)};a.prototype.getMetadata=function(){return this.data.metadata};a.prototype.setMetadata=function(a){return this.data.metadata=a};a.prototype.getSource=function(){return this.data.source};
a.prototype.setSource=function(a){var b;if(!(null==a||1>a.length))if(this.data.source=a,b=this.facade.retrieveProxy(c.NAME),a=Utils.selectSource(a,function(a){return b.canPlayType(a)}),null!=(null!=a?a.src:void 0)&&""!==a.src){if(this.setSrc(a.src),"undefined"!==typeof type&&null!==type)return this.setType(type)}else throw Error("No valid source could be found");};a.prototype.getTrack=function(){return this.data.track};a.prototype.setTrack=function(a){return this.data.track=a};a.prototype.getTitle=
function(){return this.data.title};a.prototype.setTitle=function(a){return this.data.title=a};a.prototype.getWidth=function(){return this.data.width};a.prototype.setWidth=function(a){return this.data.width=a};a.prototype.getHeight=function(){return this.data.height};a.prototype.setHeight=function(a){return this.data.height=a};a.prototype.getDescription=function(){return this.data.description};a.prototype.setDescription=function(a){return this.data.description=a};a.prototype.getCategory=function(){return this.data.category};
a.prototype.setCategory=function(a){return this.data.category=a};a.prototype.getDuration=function(a){return this.data.duration};a.prototype.setDuration=function(a){if(0!==a&&(a!==this.data.duration&&(this.data.duration=a,this.sendNotification(d.DURATION_CHANGE,a)),Infinity===a))return this.setTemporalType("live")};a.prototype.getPoster=function(a){return this.data.poster};a.prototype.setPoster=function(a){return this.data.poster=a};a.prototype.getIsLive=function(){return this.data.isLive};a.prototype.setIsLive=
function(a){if(a!==this.data.isLive)return this.data.isLive=a};a.prototype.getTemporalType=function(){return this.data.temporalType};a.prototype.setTemporalType=function(a){if(a!==this.data.temporalType)return this.data.temporalType=a,this.sendNotification(d.TEMPORAL_TYPE_CHANGE,a)};return a}(puremvc.Proxy);
com.akamai.amp.player.controller.ToggleFullScreenCommand=function(b){function a(){d=com.akamai.amp.player.model.ApplicationStateProxy;c=com.akamai.amp.player.model.DisplayState;e=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ToggleFullScreenCommand";var d,c,e;a.prototype.execute=function(a){a=this.facade.retrieveProxy(d.NAME).getDisplayState()===c.FULL_SCREEN?c.NORMAL:c.FULL_SCREEN;return this.sendNotification(e.CHANGE_DISPLAY_STATE,a)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.PauseCommand=function(b){function a(){d=com.akamai.amp.player.model.PlaybackProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="PauseCommand";var d;a.prototype.execute=function(a){return this.facade.retrieveProxy(d.NAME).pause()};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.ChangeDisplayStateCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.player.model.ApplicationStateProxy;e=com.akamai.amp.player.model.PlaybackProxy;f=com.akamai.amp.player.model.DisplayState;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangeDisplayStateCommand";var d,c,e,f;a.interval=null;a.prototype.execute=function(b){var h,g,l,m=this;l=b.getBody();h=this.facade.retrieveProxy(e.NAME).getCore();if(null!=
h&&h.webkitSupportsFullscreen){b=this.facade.retrieveProxy(c.NAME);b.setDisplayState(l);g={};null!=h.webkitRequestFullScreen?(g.enter=function(){return h.webkitRequestFullScreen()},g.exit=function(){return document.webkitCancelFullScreen()},g.event="onwebkitfullscreenchange",g.element="webkitFullscreenElement"):null!=h.requestFullscreen?(g.enter=function(){return h.requestFullscreen()},g.exit=function(){return document.cancelFullscreen()},g.event="onfullscreenchange",g.element="fullscreenElement"):
null!=h.mozRequestFullScreen?(g.enter=function(){return h.mozRequestFullscreen()},g.exit=function(){return document.mozCancelFullScreen()},g.event="onmozfullscreenchange",g.element="mozFullscreenElement"):null!=h.webkitEnterFullscreen&&(g.enter=function(){return h.webkitEnterFullscreen()},g.exit=function(){return h.webkitExitFullscreen()},g.event=null);if(l===f.FULL_SCREEN){g.enter();if(null!=g.event)return h[g.event]=function(a){if(null==document[g.element])return m.sendNotification(d.CHANGE_DISPLAY_STATE,
f.NORMAL)};clearInterval(a.interval);return a.interval=setInterval(function(){if(!0!==h.webkitDisplayingFullscreen)return m.sendNotification(d.CHANGE_DISPLAY_STATE,f.NORMAL),clearInterval(a.interval)},100)}if(l===f.NORMAL)return g.exit(),h[g.event]=null,clearInterval(a.interval)}};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.model.ConfigurationProxy=function(b){function a(b){a.__super__.constructor.call(this,b);this.setDefaults()}__extends(a,b);a.name="ConfigurationProxy";a.NAME=com.akamai.amp.modules.ModuleConfigurationProxy.NAME;a.prototype.data={name:null,autoplay:!1,loop:!1,controls:null,fullscreen:null,target:null,domain:null,endslate:null};a.prototype.setDefaults=function(){var a,c,b;if(null==(a=this.data).target)a.target="_blank";return null!=(b=(c=this.data).controls)?b:c.controls={}};a.prototype.setData=
function(b){null!=b.rules&&Utils.mergeRules(b.rules);return a.__super__.setData.call(this,b)};a.prototype.getAutoplay=function(){return this.data.autoplay};a.prototype.setAutoplay=function(a){return this.data.autoplay=a};a.prototype.getLoop=function(){return this.data.loop};a.prototype.setLoop=function(a){return this.data.loop=a};a.prototype.getEndSlate=function(){return this.data.endslate};a.prototype.setEndSlate=function(a){return this.data.endslate=a};a.prototype.getDomain=function(){return this.data.domain};
a.prototype.setDomain=function(a){return this.data.domain=a};a.prototype.getTarget=function(){return this.data.target};a.prototype.setTarget=function(a){return this.data.target=a};a.prototype.getNative=function(){return this.data["native"]};a.prototype.setNative=function(a){return this.data["native"]=a};a.prototype.getName=function(){return this.data.name};a.prototype.setName=function(a){return this.data.name=a};a.prototype.getControls=function(){return this.data.controls};a.prototype.setControls=
function(a){return this.data.controls=a};a.prototype.getFullscreen=function(){return this.data.fullscreen};a.prototype.setFullscreen=function(a){return this.data.fullscreen=a};return a}(com.akamai.amp.modules.ModuleConfigurationProxy);com.akamai.amp.player.model.ControlsMode=function(){function b(){}b.name="ControlsMode";b.PERSISTENT="persistent";return b}();
com.akamai.amp.player.controller.ChangePlaybackCoreCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.events.EventHandler;e=com.akamai.amp.player.model.MediaProxy;f=com.akamai.amp.player.model.PlaybackProxy;k=com.akamai.amp.player.model.PlayState;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangePlaybackCoreCommand";var d,c,e,f,k;a.prototype.execute=function(a){var b,l,m,n=this;this.facade.logger.debug("ChangePlaybackCoreCommand");m=this.facade.retrieveProxy(f.NAME);
b=this.facade.retrieveProxy(e.NAME);a=a.getBody();l=m.getCore();this.facade.video=a;l&&c.clear(l);c.create(a,"timeupdate",function(a){return n.sendNotification(d.TIME_UPDATE,a.target.currentTime)});c.create(a,"durationchange",function(a){n.facade.logger.debug("Playback core: durationchange: "+a.target.duration);/Android 4/.test(navigator.userAgent)&&-1!==a.target.src.indexOf(".m3u8")||n.sendNotification(d.CHANGE_DURATION,a.target.duration)});c.create(a,"playing",function(a){n.facade.logger.debug("Playback core: playing");
return n.sendNotification(d.CHANGE_PLAY_STATE,k.PLAYING)});c.create(a,"pause",function(a){n.facade.logger.debug("Playback core: pause");if(0<a.target.readyState)return n.sendNotification(d.CHANGE_PLAY_STATE,k.PAUSED)});c.create(a,"waiting",function(a){n.facade.logger.debug("Playback core: waiting");return n.sendNotification(d.WAITING)});c.create(a,"seeked",function(a){n.facade.logger.debug("Playback core: seeked");return n.sendNotification(d.SEEKED)});c.create(a,"ended",function(a){n.facade.logger.debug("Playback core: ended");
return n.sendNotification(d.ENDED)});c.create(a,"progress",function(a){var b,c;try{c=a.target,b=c.buffered,n.sendNotification(d.PROGRESS,b.end(b.length-1)/c.duration)}catch(e){}});c.create(a,"error",function(a){n.facade.logger.debug("Playback core: error");return n.sendNotification(d.ERROR,a.target.error)});c.create(a,"canplaythrough",function(a){n.facade.logger.debug("Playback core: canplaythrough");return n.sendNotification(d.PROGRESS,b.getDuration())});c.create(a,"loadedmetadata",function(a){n.facade.logger.debug("Playback core: loadedmetadata");
n.sendNotification(d.ENABLE_FULL_SCREEN);/Android 4/.test(navigator.userAgent)&&-1!==a.target.src.indexOf(".m3u8")||n.sendNotification(d.CHANGE_DURATION,a.target.duration)});c.create(a,"loadstart",function(a){return n.facade.logger.debug("Playback core: loadstart")});c.create(a,"canplay",function(a){return n.facade.logger.debug("Playback core: canplay")});c.create(a,"loadeddata",function(a){return n.facade.logger.debug("Playback core: loadeddata")});c.create(a,"stalled",function(a){return n.facade.logger.debug("Playback core: stalled")});
c.create(a,"emptied",function(a){return n.facade.logger.debug("Playback core: emptied")});this.sendNotification(d.DISABLE_FULL_SCREEN);return m.setCore(a)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.ChangeAutoplayCommand=function(b){function a(){d=com.akamai.amp.player.model.ConfigurationProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangeAutoplayCommand";var d;a.prototype.execute=function(a){return this.facade.retrieveProxy(d.NAME).setAutoplay(a.getBody())};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.model.UserSettingsProxy=function(b){function a(){a.__super__.constructor.call(this)}__extends(a,b);a.name="UserSettingsProxy";a.NAME="UserSettingsProxy";a.NAMESPACE="akamai_";a.prototype.getVolume=function(){return localStorage.getItem(a.NAMESPACE+"volume")||1};a.prototype.setVolume=function(b){return localStorage.setItem(a.NAMESPACE+"volume",b)};return a}(puremvc.Proxy);
com.akamai.amp.player.controller.ChangeLoopCommand=function(b){function a(){d=com.akamai.amp.player.model.ConfigurationProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangeLoopCommand";var d;a.prototype.execute=function(a){return this.facade.retrieveProxy(d.NAME).setLoop(a.getBody())};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.ChangeMediaCommand=function(b){function a(){d=com.akamai.amp.player.model.MediaProxy;c=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangeMediaCommand";var d,c;a.prototype.execute=function(a){var b;this.facade.logger.debug("ChangeMediaCommand",a.getBody());a=a.getBody();b=this.facade.retrieveProxy(d.NAME);b.setData(a);this.sendNotification(c.UPDATE_TOKEN_CONTEXT);this.sendNotification(c.AUTHENTICATE,b.getData())};
return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.MediaChangeCommand=function(b){function a(){d=com.akamai.amp.player.model.ConfigurationProxy;c=com.akamai.amp.player.model.MediaProxy;e=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="MediaChangeCommand";var d,c,e;a.prototype.execute=function(a){var b;this.facade.logger.debug("MediaChangeCommand",a.getBody());a.getBody();b=this.facade.retrieveProxy(c.NAME);a=this.facade.retrieveProxy(d.NAME);if(b.initialized&&
a.getAutoplay())return this.sendNotification(e.START)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.ChangeDurationCommand=function(b){function a(){d=com.akamai.amp.player.model.MediaProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangeDurationCommand";var d;a.prototype.execute=function(a){var b;this.facade.logger.debug("ChangeDurationCommand",a.getBody());a=a.getBody();b=this.facade.retrieveProxy(d.NAME);if(b.getDuration()!==a)return b.setDuration(a)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.UpdatePlaybackCoreCommand=function(b){function a(){d=com.akamai.amp.player.model.MediaProxy;c=com.akamai.amp.player.model.PlaybackProxy;e=com.akamai.amp.player.model.UserSettingsProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="UpdatePlaybackCoreCommand";var d,c,e;a.prototype.execute=function(a){var b,h;this.facade.logger.debug("UpdatePlaybackCoreCommand");a=this.facade.retrieveProxy(d.NAME);b=this.facade.retrieveProxy(c.NAME);h=this.facade.retrieveProxy(e.NAME);
b.setVolume(h.getVolume());h=a.getSrc();if(null!=h&&""!==h&&"undefined"!==h)return b.setSrc(a.getSrc()),b.load()};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.SeekCommand=function(b){function a(){d=com.akamai.amp.player.model.PlaybackProxy;c=com.akamai.amp.player.model.PlayState;e=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="SeekCommand";var d,c,e;a.prototype.execute=function(a){var b,h,g;g=a.getBody();h=this.facade.retrieveProxy(d.NAME);0===h.core.readyState?(b=function(a){h.core.removeEventListener("loadedmetadata",b,!1);return h.setCurrentTime(g)},h.core.addEventListener("loadedmetadata",
b,!1)):h.setCurrentTime(g);return this.sendNotification(e.CHANGE_PLAY_STATE,c.WAITING)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.SeekedCommand=function(b){function a(){d=com.akamai.amp.player.model.PlayState;c=com.akamai.amp.player.model.PlaybackProxy;e=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="SeekedCommand";var d,c,e;a.prototype.execute=function(a){a=this.facade.retrieveProxy(c.NAME);-1===a.getSrc().indexOf(".m3u8")&&this.sendNotification(e.CHANGE_PLAY_STATE,d.PLAYING);if(a.getPaused())return this.sendNotification(e.CHANGE_PLAY_STATE,
d.PAUSED)};return a}(puremvc.SimpleCommand);com.akamai.amp.player.controller.ReplayCommand=function(b){function a(){d=com.akamai.amp.player.model.PlaybackProxy;c=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ReplayCommand";var d,c;a.prototype.execute=function(a){this.facade.retrieveProxy(d.NAME).setCurrentTime(0.25);return this.sendNotification(c.PLAY)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.EndCommand=function(b){function a(){d=com.akamai.amp.player.model.PlaybackProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="EndCommand";var d;a.prototype.execute=function(a){this.facade.logger.debug("EndCommand",a);a.getBody();a=this.facade.retrieveProxy(d.NAME);a.pause();if(a.getCurrentTime()!==a.getDuration())return a.setCurrentTime(a.getDuration())};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.EndedCommand=function(b){function a(){d=com.akamai.amp.player.model.PlayState;c=com.akamai.amp.player.model.ActiveState;e=com.akamai.amp.player.model.ConfigurationProxy;f=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="EndedCommand";var d,c,e,f;a.prototype.execute=function(a){this.facade.logger.debug("EndedCommand",a);if(!0===this.facade.retrieveProxy(e.NAME).getLoop())return this.sendNotification(f.REPLAY);
this.sendNotification(f.CHANGE_PLAY_STATE,d.ENDED);return this.sendNotification(f.CHANGE_ACTIVE_STATE,c.ACTIVE)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.ErrorCommand=function(b){function a(){d=com.akamai.amp.player.model.PlaybackProxy;c=com.akamai.amp.player.Notifications;e=com.akamai.amp.events.EventHandler;f=com.akamai.amp.player.model.PlayState;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ErrorCommand";var d,c,e,f;a.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(d.NAME).getCore();e.clear(b);this.facade.logger.error(a.getBody());return this.sendNotification(c.CHANGE_PLAY_STATE,
f.ERROR)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.StartCommand=function(b){function a(){d=com.akamai.amp.player.model.MediaProxy;c=com.akamai.amp.player.model.PlaybackProxy;e=com.akamai.amp.player.Notifications;f=com.akamai.amp.player.model.ActiveState;k=com.akamai.amp.core.Utils;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="StartCommand";var d,c,e,f,k;a.prototype.execute=function(a){var b;this.facade.logger.debug("StartCommand");b=this.facade.retrieveProxy(c.NAME);this.facade.retrieveProxy(d.NAME).getSrc()!==
b.getSrc()&&this.sendNotification(e.UPDATE_PLAYBACK_CORE,!1);this.sendNotification(e.STARTED);k.isIOS()&&b.load();this.sendNotification(e.PLAY,a.getBody());return this.sendNotification(e.CHANGE_ACTIVE_STATE,f.INACTIVE)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.StartedCommand=function(b){function a(){d=com.akamai.amp.player.model.PlaybackProxy;c=com.akamai.amp.player.Notifications;e=com.akamai.amp.events.Event;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="StartedCommand";var d,c,e;a.prototype.execute=function(a){this.facade.logger.debug("StartedCommand");this.facade.retrieveProxy(d.NAME).setStarted(!0);return this.facade.dispatchEvent(new e(c.STARTED))};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.ReadyCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.player.model.ActiveState;e=com.akamai.amp.player.model.DisplayState;f=com.akamai.amp.player.model.PlayState;k=com.akamai.amp.events.Event;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ReadyCommand";var d,c,e,f,k;a.prototype.execute=function(a){var b;this.facade.logger.debug("ReadyCommand");this.sendNotification(d.CHANGE_DISPLAY_STATE,e.NORMAL);this.sendNotification(d.CHANGE_PLAY_STATE,
f.READY);this.sendNotification(d.CHANGE_ACTIVE_STATE,c.ACTIVE);this.facade.dispatchEvent(new k(d.READY));a=null!=(b=this.facade.config)?b.media:void 0;if(null!=a)return this.sendNotification(d.CHANGE_MEDIA,a)};return a}(puremvc.SimpleCommand);com.akamai.amp.tokenization.ITokenized=function(){function b(){}b.name="ITokenized";b.prototype.data=null;b.prototype.value=null;b.prototype.source=null;b.prototype.parse=function(a){};b.prototype.compile=function(a,b){};return b}();
com.akamai.amp.tokenization.TokenizedBase=function(b){function a(a){d=com.akamai.amp.tokenization.TokenizedValue;c=com.akamai.amp.tokenization.TokenizedObject;e=com.akamai.amp.tokenization.TokenizedArray;null!=a&&this.parse(a)}__extends(a,b);a.name="TokenizedBase";a.prototype.data=null;a.prototype.value=null;a.prototype.source=null;var d,c,e;a.prototype.parse=function(a){return a instanceof Array?new e(a):a instanceof Object?new c(a):new d(a)};return a}(com.akamai.amp.tokenization.ITokenized);
com.akamai.amp.tokenization.TokenizedArray=function(b){function a(b){d=com.akamai.amp.core.Logger;a.__super__.constructor.call(this,b)}__extends(a,b);a.name="TokenizedArray";var d;a.prototype.parse=function(b){var d,f,k,h;this.data=[];d=k=0;for(h=b.length;k<h;d=++k)f=b[d],this.data[d]=a.__super__.parse.call(this,f);return this.data};a.prototype.compile=function(a,b){var f,k,h,g,l;null==a&&(a={});null==b&&(b=!1);this.value=[];l=this.data;f=h=0;for(g=l.length;h<g;f=++h){k=l[f];try{this.value[f]=k.compile(a,
b)}catch(m){this.value[f]=null,b||d.error(m)}}return this.value};return a}(com.akamai.amp.tokenization.TokenizedBase);
com.akamai.amp.player.controller.ChangeParamsCommand=function(b){function a(){d=com.akamai.amp.player.model.ParamsProxy;c=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangeParamsCommand";var d,c;a.prototype.execute=function(a){this.facade.logger.debug("ChangeParamsCommand",a.getBody());a=a.getBody();this.facade.retrieveProxy(d.NAME).setParams(a);return this.sendNotification(c.UPDATE_TOKEN_CONTEXT)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.AuthenticateCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="AuthenticateCommand";var d;a.prototype.execute=function(a){var b;this.facade.logger.debug("AuthenticateCommand");b=a.getBody();a=this.facade.features.auth;return null!=a&&null!=b.status&&"blocked"===b.status.state&&"ais"===b.status.reason?a.authenticate(b):this.sendNotification(d.AUTHENTICATED,{media:b})};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.AuthenticatedCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="AuthenticatedCommand";var d;a.prototype.execute=function(a){var b;this.facade.logger.debug("AuthenticatedCommand");b=a.getBody();a=b.media;b=b.startTime;this.sendNotification(d.UPDATE_PLAYBACK_CORE);this.sendNotification(d.MEDIA_CHANGE,a);if(null!=b)return this.sendNotification(d.SEEK,b)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.InitializedCommand=function(b){function a(){d=com.akamai.amp.player.model.MediaProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="InitializedCommand";var d;a.prototype.execute=function(a){this.facade.logger.debug("InitializedCommand");return this.facade.retrieveProxy(d.NAME).initialized=!0};return a}(puremvc.SimpleCommand);
com.akamai.amp.tokenization.TokenizationError=function(b){function a(b){this.message=a.MESSAGE+b}__extends(a,b);a.name="TokenizationError";a.MESSAGE="Tokenization Error: Could not find token value for: ";return a}(Error);com.akamai.amp.tokenization.Literal=function(b){function a(b){a.__super__.constructor.call(this,b)}__extends(a,b);a.name="Literal";a.prototype.parse=function(a){return this.source=this.data=this.value=a};a.prototype.compile=function(a,b){return this.value};return a}(com.akamai.amp.tokenization.TokenizedBase);
com.akamai.amp.tokenization.Token=function(b){function a(b){d=com.akamai.amp.tokenization.TokenizationError;a.__super__.constructor.call(this,b)}__extends(a,b);a.name="Token";a.prototype.exec=null;var d;a.prototype.parse=function(a){this.source=this.data=a;this.exec=new Function("context","var value; with(context){value \x3d "+this.data+";}return value;");return this.data};a.prototype.compile=function(a,b){null==a&&(a={});if(null==this.exec)return this.value;try{this.value=this.exec(a)}catch(f){if(this.value=
null,!suppressErors)throw new d(this.data);}return this.value};return a}(com.akamai.amp.tokenization.TokenizedBase);
com.akamai.amp.tokenization.TokenizedValue=function(b){function a(b){d=com.akamai.amp.tokenization.TokenizationError;c=com.akamai.amp.tokenization.Token;e=com.akamai.amp.tokenization.ITokenized;f=com.akamai.amp.tokenization.Literal;this.token=RegExp(this.tokenStart.source+"(.*)"+this.tokenEnd.source);a.__super__.constructor.call(this,b)}__extends(a,b);a.name="TokenizedValue";a.prototype.exec=null;a.prototype.tokenStart=/#{/;a.prototype.tokenEnd=/}/;a.prototype.token=null;var d,c,e,f;a.prototype.parse=
function(a){var b,d,e;this.source=a;this.data=[];if(this.token.test(this.source)){a=this.source.split(this.tokenStart.source);d=0;for(e=a.length;d<e;d++)b=a[d],this.tokenEnd.test(b)?(b=b.split(this.tokenEnd.source),this.data.push(new c(b[0])),""!==b[1]&&this.data.push(new f(b[1]))):""!==b&&this.data.push(new f(b));1===this.data.length&&(this.data=this.data[0])}else this.data=new f(a);return this.data};a.prototype.compile=function(a,b){var c,f,m,n;null==a&&(a={});null==b&&(b=!1);if(null==this.data)return this.value;
try{if(this.data instanceof e)this.value=this.data.compile(a,b);else{this.value="";n=this.data;f=0;for(m=n.length;f<m;f++)c=n[f],this.value+=c.compile(a,b)}}catch(s){if(this.value=null,!b)throw new d(this.source);}return this.value};return a}(com.akamai.amp.tokenization.TokenizedBase);
com.akamai.amp.tokenization.TokenizedObject=function(b){function a(b){d=com.akamai.amp.core.Logger;a.__super__.constructor.call(this,b)}__extends(a,b);a.name="TokenizedObject";var d;a.prototype.parse=function(b){var d,f;this.source=b;this.data={};for(d in b)f=b[d],this.data[d]=a.__super__.parse.call(this,f);return this.data};a.prototype.compile=function(a,b){var f,k,h;null==a&&(a={});null==b&&(b=!1);this.value={};h=this.data;for(f in h){k=h[f];try{this.value[f]=k.compile(a,b)}catch(g){this.value[f]=
null,d.error(g)}}return this.value};return a}(com.akamai.amp.tokenization.TokenizedBase);
com.akamai.amp.player.model.LocalizationProxy=function(b){function a(b){d=com.akamai.amp.player.Notifications;a.__super__.constructor.call(this);b&&(null!=b.locales&&(this.data.locales=b.locales),null!=b.language&&(this.data.language=b.language));this.setLocale(this.data.language)}__extends(a,b);a.name="LocalizationProxy";a.NAME="LocalizationProxy";a.prototype.data={language:navigator.language,locales:{en:{MSG_LIVE:"LIVE",MSG_REPLAY:"Replay",MSG_BUFFERING:"buffering...",MSG_CC:"CC",MSG_CLOSE:"close"}}};
a.prototype.locale=null;var d;a.prototype.getLanguage=function(){return this.data.language};a.prototype.setLanguage=function(a){this.data.language=a;this.setLocale(a);return this.sendNotification(d.LANGUAGE_CHANGED,a)};a.prototype.setLocale=function(a){this.locale=this.data.locales[a];if(null==this.locale)return this.locale=this.data.locales[a.substring(0,2)]};a.prototype.getLocales=function(){return this.data.locales};a.prototype.setLocales=function(a){return this.data.locales=a};a.prototype.getString=
function(a){return(this.locale||this.data.locales.en)[a]||""};return a}(puremvc.Proxy);
com.akamai.amp.player.model.TokenizedConfigurationProxy=function(b){function a(b){d=com.akamai.amp.tokenization.TokenizedObject;c=com.akamai.amp.player.model.TokenizationProxy;this.data=new d;this.value={};a.__super__.constructor.call(this,b)}__extends(a,b);a.name="TokenizedConfigurationProxy";a.NAME=com.akamai.amp.modules.ModuleConfigurationProxy.NAME;a.prototype.config=null;a.prototype.tokens=null;a.prototype.value=null;a.prototype.defaults=null;var d,c;a.prototype.onRegister=function(){this.tokens=
(this.facade.app||this.facade).retrieveProxy(c.NAME);return this.tokens.add(this.facade.key,this)};a.prototype.setData=function(a){var b,c,d,g;c={};g=this.defaults;for(b in g)d=g[b],c[b]=b in a?a[b]:d;this.data.parse(c);return this.data};a.prototype.getValue=function(a){var b;this.tokens.update();this.value[a]=null!=(b=this.data.data[a])?b.compile(this.tokens.context):void 0;return this.value[a]};a.prototype.compile=function(a,b){null==b&&(b=!1);this.value=this.data.compile(a,b)};return a}(com.akamai.amp.modules.ModuleConfigurationProxy);
com.akamai.amp.player.model.ParamsProxy=function(b){function a(b){a.__super__.constructor.call(this,b)}__extends(a,b);a.name="ParamsProxy";a.NAME="ParamsProxy";a.prototype.defaults={};a.prototype.setData=function(a){var b,e;e=this.data.source||{};for(b in a)e[b]=a[b];this.data.parse(e);return this.data};return a}(com.akamai.amp.player.model.TokenizedConfigurationProxy);
com.akamai.amp.player.controller.WaitingCommand=function(b){function a(){d=com.akamai.amp.player.model.ApplicationStateProxy;c=com.akamai.amp.player.model.PlayState;e=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="WaitingCommand";var d,c,e;a.prototype.execute=function(a){this.facade.logger.debug("WaitingCommand");if(this.facade.retrieveProxy(d.NAME).getPlayState()!==c.LOADING)return this.sendNotification(e.CHANGE_PLAY_STATE,c.WAITING)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.model.TokenizationProxy=function(b){function a(){d=com.akamai.amp.player.model.ConfigurationProxy;c=com.akamai.amp.player.model.LocalizationProxy;e=com.akamai.amp.player.model.PlaybackProxy;f=com.akamai.amp.player.model.ParamsProxy;k=com.akamai.amp.player.model.MediaProxy;h=com.akamai.amp.core.Utils;a.__super__.constructor.call(this,this.constructor.NAME,{})}__extends(a,b);a.name="TokenizationProxy";a.NAME="TokenizationProxy";a.prototype.context=null;var d,c,e,f,k,h;a.prototype.add=
function(a,b){this.data[a]=b;return b.compile(this.context,!0)};a.prototype.initialize=function(){return this.update()};a.prototype.update=function(){var a,b,m,n,s,v,y;a=this.facade.retrieveProxy(d.NAME);y=this.facade.retrieveProxy(e.NAME);s=this.facade.retrieveProxy(k.NAME);n=this.facade.retrieveProxy(c.NAME);v=this.facade.retrieveProxy(f.NAME);b=document.getElementById(this.facade.multitonKey);this.context={media:{width:s.getWidth(),height:s.getHeight(),title:s.getTitle(),description:s.getDescription(),
src:s.getSrc(),duration:s.getDuration(),guid:s.getGUID(),isLive:s.getIsLive(),metadata:s.getMetadata(),temporalType:s.getTemporalType()},player:{width:b.offsetWidth,height:b.offsetHeight,mode:"html5",autoplay:a.getAutoplay(),domain:a.getDomain(),name:a.getName(),currentTime:y.getCurrentTime(),timecode:{duration:h.formatTimecode(s.getDuration()),currentTime:h.formatTimecode(y.getCurrentTime())}},l10n:n.locale,now:Date.now()};v.compile(this.context);b=v.value;for(m in b)a=b[m],this.context[m]=a;return this.context};
a.prototype.compile=function(){var a,b,c,d;this.update();a=h.clone(this.context);d=this.data;for(b in d)c=d[b],c.compile(a)};return a}(puremvc.Proxy);com.akamai.amp.player.controller.ChangeMutedCommand=function(b){function a(){d=com.akamai.amp.player.model.PlaybackProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangeMutedCommand";var d;a.prototype.execute=function(a){return this.facade.retrieveProxy(d.NAME).setMuted(a.getBody())};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.UpdateTokenContextCommand=function(b){function a(){d=com.akamai.amp.player.model.TokenizationProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="UpdateTokenContextCommand";var d;a.prototype.execute=function(a){this.facade.logger.debug("UpdateTokenContextCommand");this.facade.retrieveProxy(d.NAME).compile()};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.ChangeVolumeCommand=function(b){function a(){d=com.akamai.amp.player.model.PlaybackProxy;c=com.akamai.amp.player.model.UserSettingsProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangeVolumeCommand";var d,c;a.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(d.NAME);b.setVolume(a.getBody());b=this.facade.retrieveProxy(c.NAME);return b.setVolume(a.getBody())};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.ChangePlayStateCommand=function(b){function a(){d=com.akamai.amp.player.model.ApplicationStateProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangePlayStateCommand";var d;a.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(d.NAME);a=a.getBody();return b.setPlayState(a)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.ChangeActiveStateCommand=function(b){function a(){d=com.akamai.amp.player.model.ApplicationStateProxy;c=com.akamai.amp.player.model.ConfigurationProxy;e=com.akamai.amp.player.model.ActiveState;f=com.akamai.amp.player.model.ControlsMode;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ChangeActiveStateCommand";var d,c,e,f;a.prototype.execute=function(a){a=this.facade.retrieveProxy(c.NAME).getControls().mode!==f.PERSISTENT?a.getBody():e.ACTIVE;return this.facade.retrieveProxy(d.NAME).setActiveState(a)};
return a}(puremvc.SimpleCommand);
com.akamai.amp.player.controller.PlayCommand=function(b){function a(){d=com.akamai.amp.player.model.MediaProxy;c=com.akamai.amp.player.model.PlaybackProxy;e=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="PlayCommand";var d,c,e;a.prototype.execute=function(a){var b,h;this.facade.logger.debug("PlayCommand");h=a.getBody();a=this.facade.retrieveProxy(d.NAME);b=this.facade.retrieveProxy(c.NAME);h&&this.sendNotification(e.INITIALIZED);a.initialized&&
(a.getSrc()||a.getSource())&&(b.getStarted()?b.play():this.sendNotification(e.START))};return a}(puremvc.SimpleCommand);com.akamai.amp.player.model.PlayState=function(){function b(){}b.name="PlayState";b.READY="ready";b.PLAYING="playing";b.PAUSED="paused";b.ENDED="ended";b.LOADING="loading";b.WAITING="waiting";b.SEEKING="seeking";b.ERROR="error";return b}();
com.akamai.amp.player.model.PlaybackProxy=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.core.Utils;a.__super__.constructor.call(this)}__extends(a,b);a.name="PlaybackProxy";a.NAME="PlaybackProxy";a.prototype.core=null;a.prototype.muted=!1;a.prototype.interval=null;a.prototype.readyState=0;a.prototype.started=!1;a.prototype.volume=1;var d,c;a.prototype.getStarted=function(){return this.started};a.prototype.setStarted=function(a){return this.started=a};a.prototype.getCore=
function(){return this.core};a.prototype.setCore=function(a){var b=this;if(a!==this.core)return this.core=a,clearInterval(this.interval),this.sendNotification(d.ADD_APPLICATION_STATE,"hide-video"),this.interval=setInterval(function(){return b.stateCheck()},50),this.sendNotification(d.PLAYBACK_CORE_CHANGE,this.core),this.core};a.prototype.stateCheck=function(){if(this.readyState!==this.core.readyState)return this.readyState=this.core.readyState,1<this.readyState?this.sendNotification(d.REMOVE_APPLICATION_STATE,
"hide-video"):this.sendNotification(d.ADD_APPLICATION_STATE,"hide-video")};a.prototype.canPlayType=function(a){var b,d;b=(null!=(d=this.core)?d.canPlayType(a):void 0)||"";/Android 4\.[12]/.test(navigator.userAgent)&&a===c.mimeTypes.m3u8&&(b="maybe");return b};a.prototype.getPaused=function(){var a;return null!=(a=this.core)?a.paused:void 0};a.prototype.getEnded=function(){var a;return null!=(a=this.core)?a.ended:void 0};a.prototype.getSeeking=function(){var a;return null!=(a=this.core)?a.seeking:
void 0};a.prototype.getCurrentTime=function(){var a;return null!=(a=this.core)?a.currentTime:void 0};a.prototype.setCurrentTime=function(a){if(this.core&&a!==this.core.currentTime)return this.core.currentTime=c.clamp(a,0,this.getDuration())};a.prototype.getSrc=function(){var a;return null!=(a=this.core)?a.src:void 0};a.prototype.setSrc=function(a){var b;(null==a||""===a)&&this.sendNotification(d.ERROR,"The value of src is not supported: "+a);if(a!==this.core.src)return this.started=!1,null!=(b=this.core)?
b.src=a:void 0};a.prototype.getVolume=function(){var a;return null!=(a=this.core)?a.volume:void 0};a.prototype.setVolume=function(a){var b,c;if(0<=a&&1>=a&&a!==(null!=(b=this.core)?b.volume:void 0))return this.sendNotification(d.VOLUME_CHANGE,null!=(c=this.core)?c.volume=a:void 0)};a.prototype.getMuted=function(){return this.muted};a.prototype.setMuted=function(a){this.muted=a;!0===this.muted?(this.volume=this.getVolume(),a=0):a=this.volume;return this.sendNotification(d.CHANGE_VOLUME,a)};a.prototype.getDuration=
function(a){var b;return null!=(b=this.core)?b.duration:void 0};a.prototype.play=function(){var a;this.started||(this.started=!0);null!=(a=this.core)&&a.play()};a.prototype.pause=function(){var a;null!=(a=this.core)&&a.pause()};a.prototype.load=function(){var a;null!=(a=this.core)&&a.load()};a.prototype.end=function(){this.core&&(this.core.currentTime=this.core.duration)};return a}(puremvc.Proxy);
com.akamai.amp.player.model.RenderMode=function(){function b(){}b.name="RenderMode";b.FLASH="flash";b.HTML="html";return b}();
com.akamai.amp.player.controller.TogglePlayPauseCommand=function(b){function a(){d=com.akamai.amp.player.model.PlaybackProxy;c=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="TogglePlayPauseCommand";var d,c;a.prototype.execute=function(a){a=this.facade.retrieveProxy(d.NAME);a=a.getEnded()?c.REPLAY:a.getPaused()?c.PLAY:c.PAUSE;return this.sendNotification(a,!0)};return a}(puremvc.SimpleCommand);
com.akamai.amp.player.model.ActiveState=function(){function b(){}b.name="ActiveState";b.ACTIVE="active";b.INACTIVE="inactive";return b}();
com.akamai.amp.plugins.ads.AdNotifications=function(){function b(){}b.name="AdNotifications";b.BREAK_START="adbreakstart";b.BREAK_END="adbreakend";b.AD_LOADED="adloaded";b.AD_STARTED="adstarted";b.AD_TIME_UPDATE="adtimeupdate";b.AD_TIME_REMAINING="adtimeremaining";b.AD_DURATION_CHANGE="addurationchange";b.AD_ENDED="adended";b.AD_ERROR="aderror";b.AD_COMPANION="adcompanion";return b}();
com.akamai.amp.player.model.ApplicationStateProxy=function(b){function a(){d=com.akamai.amp.player.Notifications;a.__super__.constructor.call(this)}__extends(a,b);a.name="ApplicationStateProxy";a.NAME="ApplicationStateProxy";a.prototype.displayState=null;a.prototype.playState=null;a.prototype.renderMode=null;a.prototype.activeState=null;var d;a.prototype.getDisplayState=function(){return this.displayState};a.prototype.setDisplayState=function(a){var b;if(a!==b)return b=this.displayState,this.displayState=
a,this.sendNotification(d.DISPLAY_STATE_CHANGE,{oldState:b,newState:this.displayState})};a.prototype.getPlayState=function(){return this.playState};a.prototype.setPlayState=function(a){var b;if(a!==this.playState)return b=this.playState,this.playState=a,this.sendNotification(d.PLAY_STATE_CHANGE,{oldState:b,newState:this.playState})};a.prototype.getRenderMode=function(){return this.renderMode};a.prototype.setRenderMode=function(a){if(a!==this.renderMode)return this.renderMode=a};a.prototype.getMedium=
function(){return this.medium};a.prototype.setMedium=function(a){var b;if(a!==this.medium)return b="medium-"+this.medium,this.medium=a,this.sendNotification(d.MEDIUM_CHANGE,{oldState:b,newState:"medium-"+this.medium})};a.prototype.getActiveState=function(){return this.activeState};a.prototype.setActiveState=function(a){var b;if(a!==this.activeState)return b=this.activeState,this.activeState=a,this.sendNotification(d.ACTIVE_STATE_CHANGE,{oldState:b,newState:this.activeState})};return a}(puremvc.Proxy);
com.akamai.amp.events.Event=function(){function b(a,b){this.type=a;this.data=b}b.name="Event";b.prototype.type=null;b.prototype.target=null;b.prototype.data=null;return b}();
com.akamai.amp.player.controller.ToggleActiveCommand=function(b){function a(){d=com.akamai.amp.player.model.ApplicationStateProxy;c=com.akamai.amp.player.model.ActiveState;e=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="ToggleActiveCommand";var d,c,e;a.prototype.execute=function(a){a=this.facade.retrieveProxy(d.NAME).getActiveState()===c.ACTIVE?c.INACTIVE:c.ACTIVE;return this.sendNotification(e.CHANGE_ACTIVE_STATE,a)};return a}(puremvc.SimpleCommand);
com.akamai.amp.modules.MessageEvent=function(b){function a(b,c){this.message=b;this.origin=c;a.__super__.constructor.call(this,a.MESSAGE)}__extends(a,b);a.name="MessageEvent";a.MESSAGE="message";return a}(com.akamai.amp.events.Event);
com.akamai.amp.player.controller.InitControllerCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.player.controller.ToggleActiveCommand;e=com.akamai.amp.player.controller.TogglePlayPauseCommand;f=com.akamai.amp.player.controller.ToggleFullScreenCommand;k=com.akamai.amp.player.controller.PlayCommand;h=com.akamai.amp.player.controller.PauseCommand;g=com.akamai.amp.player.controller.ChangeDisplayStateCommand;l=com.akamai.amp.player.controller.ChangePlayStateCommand;
m=com.akamai.amp.player.controller.ChangeActiveStateCommand;n=com.akamai.amp.player.controller.ChangePlaybackCoreCommand;s=com.akamai.amp.player.controller.ChangeAutoplayCommand;v=com.akamai.amp.player.controller.ChangeLoopCommand;y=com.akamai.amp.player.controller.ChangeVolumeCommand;u=com.akamai.amp.player.controller.ChangeMediaCommand;x=com.akamai.amp.player.controller.MediaChangeCommand;A=com.akamai.amp.player.controller.ChangeDurationCommand;q=com.akamai.amp.player.controller.UpdatePlaybackCoreCommand;
w=com.akamai.amp.player.controller.SeekCommand;p=com.akamai.amp.player.controller.SeekedCommand;C=com.akamai.amp.player.controller.ReplayCommand;z=com.akamai.amp.player.controller.EndCommand;t=com.akamai.amp.player.controller.EndedCommand;B=com.akamai.amp.player.controller.ErrorCommand;D=com.akamai.amp.player.controller.StartCommand;J=com.akamai.amp.player.controller.StartedCommand;E=com.akamai.amp.player.controller.ReadyCommand;K=com.akamai.amp.player.controller.WaitingCommand;G=com.akamai.amp.player.controller.ChangeMutedCommand;
I=com.akamai.amp.player.controller.UpdateTokenContextCommand;L=com.akamai.amp.player.controller.ChangeParamsCommand;N=com.akamai.amp.player.controller.AuthenticateCommand;P=com.akamai.amp.player.controller.AuthenticatedCommand;F=com.akamai.amp.player.controller.InitializedCommand;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="InitControllerCommand";var d,c,e,f,k,h,g,l,m,n,s,v,y,u,x,A,q,w,p,C,z,t,B,D,J,E,K,G,I,L,N,P,F;a.prototype.execute=function(a){this.facade.logger.debug("InitControllerCommand");
this.facade.registerCommand(d.TOGGLE_PLAY_PAUSE,e);this.facade.registerCommand(d.PLAY,k);this.facade.registerCommand(d.PAUSE,h);this.facade.registerCommand(d.CHANGE_PLAY_STATE,l);this.facade.registerCommand(d.TOGGLE_FULL_SCREEN,f);this.facade.registerCommand(d.CHANGE_DISPLAY_STATE,g);this.facade.registerCommand(d.TOGGLE_ACTIVE,c);this.facade.registerCommand(d.CHANGE_ACTIVE_STATE,m);this.facade.registerCommand(d.CHANGE_MEDIA,u);this.facade.registerCommand(d.MEDIA_CHANGE,x);this.facade.registerCommand(d.UPDATE_TOKEN_CONTEXT,
I);this.facade.registerCommand(d.CHANGE_PLAYBACK_CORE,n);this.facade.registerCommand(d.UPDATE_PLAYBACK_CORE,q);this.facade.registerCommand(d.START,D);this.facade.registerCommand(d.STARTED,J);this.facade.registerCommand(d.SEEK,w);this.facade.registerCommand(d.SEEKED,p);this.facade.registerCommand(d.CHANGE_VOLUME,y);this.facade.registerCommand(d.CHANGE_MUTED,G);this.facade.registerCommand(d.CHANGE_AUTOPLAY,s);this.facade.registerCommand(d.CHANGE_LOOP,v);this.facade.registerCommand(d.END,z);this.facade.registerCommand(d.ENDED,
t);this.facade.registerCommand(d.REPLAY,C);this.facade.registerCommand(d.ERROR,B);this.facade.registerCommand(d.READY,E);this.facade.registerCommand(d.WAITING,K);this.facade.registerCommand(d.CHANGE_DURATION,A);this.facade.registerCommand(d.CHANGE_PARAMS,L);this.facade.registerCommand(d.AUTHENTICATE,N);this.facade.registerCommand(d.AUTHENTICATED,P);return this.facade.registerCommand(d.INITIALIZED,F)};return a}(puremvc.SimpleCommand);
com.akamai.amp.modules.ModuleJunctionMediator=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.modules.MessageEvent;a.__super__.constructor.call(this,a.NAME,this)}__extends(a,b);a.name="ModuleJunctionMediator";a.NAME="ModuleJunctionMediator";var d,c;a.prototype.onRegister=function(){return a.__super__.onRegister.call(this)};a.prototype.listNotificationInterests=function(){var a,b,c,h;b=[];a=[d.STARTUP];for(c in d)h=d[c],-1===a.indexOf(h)&&b.push(h);return b};a.prototype.handleNotification=
function(a){a.getName();null==a.getType()&&a.setType(this.multitonKey);this.facade.dispatchEvent(new c(a,this.multitonKey))};return a}(puremvc.Mediator);
com.akamai.amp.player.controller.InitFrameworkCommand=function(b){function a(){d=com.akamai.amp.player.controller.InitControllerCommand;c=com.akamai.amp.player.controller.InitModelCommand;e=com.akamai.amp.player.controller.InitViewCommand;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="InitFrameworkCommand";var d,c,e;a.prototype.initializeMacroCommand=function(){this.addSubCommand(c);this.addSubCommand(d);return this.addSubCommand(e)};return a}(puremvc.MacroCommand);
com.akamai.amp.AMPConfig=function(){function b(){}b.name="AMPConfig";b.UNINITIALIZED=0;b.LOADING=1;b.LOADED=2;b.getConfigURL=function(){var a,b;a=this.getScriptTag().src;b=a.indexOf("?");return-1<b&&b<a.length-1?a.substring(b+1):null};b.getScriptTag=function(){var a,b,c,e;b=document.getElementsByTagName("script");c=0;for(e=b.length;c<e;c++)if(a=b[c],/amp(\..*)?\.js/.test(a.src))return a;return null};b.getModule=function(a,b,c){var e,f,k,h,g,l,m,n=this;try{l=new XMLHttpRequest}catch(s){try{l=new ActiveXObject("Msxml2.XMLHTTP")}catch(v){try{l=
new ActiveXObject("Microsoft.XMLHTTP")}catch(y){}}}l.open("GET",a,!1);l.send();m=l.responseXML;h=m.getElementsByTagName("module");e=h.length;k=-1;f=function(a){return n.loadModule(a,g)};g=function(){k++;if(k<e)return f(h[k]);if(b)return b(m)};g();return m};b.parseModule=function(a){var b,c,e,f;c={};a=a.childNodes;e=0;for(f=a.length;e<f;e++)if(b=a[e],1===(null!=b?b.nodeType:void 0))c[b.nodeName]=this.parseItem(b);return c};b.parseItem=function(a){var b,c,e,f;b=(""+a.getAttribute("type")).toLowerCase();
c=a.textContent||a.text||a.innerText;if("object"!==b&&"array"!==b&&/#\{.*\}/.test(c))return c;switch(b){case "object":c=this.parseModule(a);break;case "array":c=[];b=a.childNodes;e=0;for(f=b.length;e<f;e++)a=b[e],1===a.nodeType&&c.push(this.parseItem(a));break;case "boolean":c="true"===c.toLowerCase();break;case "number":c=parseFloat(c)}return c};b.loadModule=function(a,b){var c,e,f,k,h,g,l,m,n,s,v;f=this.getScriptTag().parentNode;g=function(a){var b;b=document.createElement("script");b.type="text/javascript";
b.src=a.getAttribute("src");b.addEventListener?b.addEventListener("load",m,!1):b.readyState&&(b.onreadystatechange=m);return f.appendChild(b)};m=function(){l++;if(l<c)return g(n[l]);if(b)return b(a)};h=a.getElementsByTagName("link");s=0;for(v=h.length;s<v;s++)k=h[s],e=document.createElement("link"),e.rel="stylesheet",e.type="text/css",e.href=k.getAttribute("href"),f.appendChild(e);n=a.getElementsByTagName("script");l=-1;c=n.length;return m()};b.prototype.url=null;b.prototype.data=null;b.prototype.xml=
null;b.prototype.readyState=b.UNINITIALIZED;b.prototype.onreadystatechange=null;b.prototype.onload=null;b.prototype.loaded=!1;b.prototype.load=function(a){var d=this;if(null==a&&(a=b.getConfigURL(),null==a))return;this.setReadyState(b.LOADING);this.url=a;return b.getModule(a,function(a){d.xml=a;d.data=b.parseModule(a.getElementsByTagName("config")[0]);d.setReadyState(b.LOADED)},function(a){try{return console.log(a)}catch(b){}})};b.prototype.setReadyState=function(a){this.readyState=a;if("function"===
typeof this.onreadystatechange)this.onreadystatechange({type:"readystatechange",data:a});if(a===b.LOADED&&!this.loaded)return this.loaded=!0,"function"===typeof this.onload?this.onload({type:"load",data:this.data}):void 0};return b}();
com.akamai.amp.player.controller.StartupCommand=function(b){function a(){d=com.akamai.amp.player.controller.InitFrameworkCommand;c=com.akamai.amp.player.controller.InitPlaybackCoreCommand;e=com.akamai.amp.player.controller.InitPluginsCommand;f=com.akamai.amp.player.controller.UpdateTokenContextCommand;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="StartupCommand";var d,c,e,f;a.prototype.initializeMacroCommand=function(){this.addSubCommand(d);this.addSubCommand(f);this.addSubCommand(c);
return this.addSubCommand(e)};return a}(puremvc.MacroCommand);
com.akamai.amp.modules.ModuleFacade=function(b){function a(b,h,g){d=com.akamai.amp.modules.ModuleJunctionMediator;c=com.akamai.amp.modules.ModuleConfigurationProxy;e=com.akamai.amp.core.Logger;f=com.akamai.amp.events.EventDispatcher;a.__super__.constructor.call(this,b);this.dispatcher=g||new f(this);this.logger=e;this.config=h;this.initialize()}__extends(a,b);a.name="ModuleFacade";a.prototype.dispatcher=null;a.prototype.logger=null;a.prototype.config=null;a.prototype.key=null;var d,c,e,f;a.prototype.initializeView=
function(){a.__super__.initializeView.call(this);return this.registerMediator(new d)};a.prototype.initialize=function(){this.createModel();this.createController();return this.createView()};a.prototype.createModel=function(){return this.registerProxy(new c(this.config))};a.prototype.createView=function(){};a.prototype.createController=function(){};a.prototype.onRegister=function(){};a.prototype.passMessage=function(a,b){if(a.getType()!==this.multitonKey)return this.sendNotification(a.getName(),a.getBody(),
b)};a.prototype.addEventListener=function(a,b){return this.dispatcher.addEventListener(a,b)};a.prototype.dispatchEvent=function(a){return this.dispatcher.dispatchEvent(a)};a.prototype.removeEventListener=function(a,b){return this.dispather.removeEventListener(a,b)};return a}(puremvc.Facade);
com.akamai.amp.player.PlayerFacade=function(b){function a(b,n,s){d=com.akamai.amp.player.controller.StartupCommand;c=com.akamai.amp.player.Notifications;e=com.akamai.amp.player.model.PlaybackProxy;f=com.akamai.amp.player.model.ConfigurationProxy;k=com.akamai.amp.player.model.TokenizationProxy;h=com.akamai.amp.player.model.MediaProxy;g=com.akamai.amp.player.view.PublicAPIMediator;l=com.akamai.amp.player.model.DisplayState;a.__super__.constructor.call(this,b,n,s);this.plugins={};this.features={};this.startup()}
__extends(a,b);a.name="PlayerFacade";a.prototype.video=null;a.prototype.container=null;a.prototype.plugins=null;a.prototype.features=null;var d,c,e,f,k,h,g,l;a.prototype.createModel=function(){this.registerProxy(new k);return this.registerProxy(new f(this.config))};a.prototype.createView=function(){return this.registerMediator(new g)};a.prototype.createController=function(){return this.registerCommand(c.STARTUP,d)};a.prototype.startup=function(){this.sendNotification(c.STARTUP,this.config)};a.prototype.canPlayType=
function(a){var b;return null!=(b=this.retrieveProxy(e.NAME))?b.canPlayType(a):void 0};a.prototype.load=function(){return this.sendNotification(c.LOAD)};a.prototype.play=function(){return this.sendNotification(c.PLAY)};a.prototype.replay=function(){return this.sendNotification(c.REPLAY)};a.prototype.pause=function(){return this.sendNotification(c.PAUSE)};a.prototype.end=function(){return this.sendNotification(c.END)};a.prototype.setParams=function(a){return this.sendNotification(c.CHANGE_PARAMS,a)};
a.prototype.getParams=function(){return this.retrieveProxy(f.NAME).getParams()};a.prototype.setAutoplay=function(a){return this.sendNotification(c.CHANGE_AUTOPLAY,{autoplay:a})};a.prototype.getAutoplay=function(){return this.retrieveProxy(e.NAME).getAutoplay()};a.prototype.setLoop=function(a){return this.sendNotification(c.CHANGE_LOOP,{loop:a})};a.prototype.getLoop=function(){return this.retrieveProxy(e.NAME).getLoop()};a.prototype.setMuted=function(a){return this.sendNotification(c.CHANGE_MUTED,
a)};a.prototype.getMuted=function(){var a;return null!=(a=this.retrieveProxy(e.NAME))?a.getMuted():void 0};a.prototype.setMedia=function(a){this.sendNotification(c.CHANGE_MEDIA,a);return a};a.prototype.getMedia=function(a){var b;return null!=(b=this.retrieveProxy(h.NAME))?b.getData():void 0};a.prototype.setCurrentTime=function(a){this.sendNotification(c.SEEK,a);return a};a.prototype.getCurrentTime=function(a){var b;return null!=(b=this.retrieveProxy(e.NAME))?b.getCurrentTime():void 0};a.prototype.getDuration=
function(a){var b;return null!=(b=this.retrieveProxy(e.NAME))?b.getDuration():void 0};a.prototype.setSrc=function(a){this.sendNotification(c.CHANGE_MEDIA,{src:a});return a};a.prototype.getSrc=function(a){var b;return null!=(b=this.retrieveProxy(e.NAME))?b.getSrc():void 0};a.prototype.setSource=function(a){this.sendNotification(c.CHANGE_MEDIA,{source:a});return a};a.prototype.getSource=function(a){var b;return null!=(b=this.retrieveProxy(e.NAME))?b.getSource():void 0};a.prototype.setVolume=function(a){this.sendNotification(c.CHANGE_VOLUME,
a);return a};a.prototype.getVolume=function(a){var b;return null!=(b=this.retrieveProxy(e.NAME))?b.getVolume():void 0};a.prototype.getSeeking=function(){var a;return null!=(a=this.retrieveProxy(e.NAME))?a.getSeeking():void 0};a.prototype.getPaused=function(){var a;return null!=(a=this.retrieveProxy(e.NAME))?a.getPaused():void 0};a.prototype.getEnded=function(){var a;return null!=(a=this.retrieveProxy(e.NAME))?a.getEnded():void 0};a.prototype.enterFullScreen=function(){return this.sendNotification(c.CHANGE_DISPLAY_STATE,
l.FULL_SCREEN)};a.prototype.exitFullScreen=function(){return this.sendNotification(c.CHANGE_DISPLAY_STATE,l.NORMAL)};return a}(com.akamai.amp.modules.ModuleFacade);
com.akamai.amp.AkamaiMediaPlayer=function(b){function a(b,m){d=com.akamai.amp.AMPConfig;c=com.akamai.amp.player.PlayerFacade;e=com.akamai.amp.core.Utils;f=com.akamai.amp.core.FlashWrapper;d=com.akamai.amp.AMPConfig;k=com.akamai.amp.core.QueryString;h=com.akamai.amp.core.Logger;g=com.akamai.amp.events.Event;a.__super__.constructor.call(this);h.enable();this.config=m;this.initialize(b,m)}__extends(a,b);a.name="AkamaiMediaPlayer";a.VERSION="";a.config=new com.akamai.amp.AMPConfig;a.loadConfig=function(a){return this.config.load(a)};
a.prototype.player=null;a.prototype.config=null;a.prototype.initialized=!1;var d,c,e,f,k,h,g;a.prototype.initialize=function(b,c){var f,k=this;"string"===typeof c&&(f=e.get(c),c=JSON.parse(f.responseText));null!=d.getConfigURL()&&a.config.readyState!==d.LOADED?(a.config.onload=function(a){k.startup(b,c)},a.config.readyState===d.UNINITIALIZED&&a.loadConfig()):this.startup(b,c)};a.prototype.createFlashPlayer=function(a,b){return new f(a,b,this)};a.prototype.createHTML5Player=function(a,b){return new c(a,
b,this)};a.prototype.error=function(a){return this.player.logger.error(a)};a.prototype.startup=function(b,c){var d,f,h;null!=a.config.data&&(c=e.override(a.config.data,c));if(null!=Object.defineProperty)try{Object.defineProperty(this,"src",{get:this.getSrc,set:this.setSrc,enumerable:!0,configurable:!0}),Object.defineProperty(this,"currentTime",{get:this.getCurrentTime,set:this.setCurrentTime,enumerable:!0,configurable:!0}),Object.defineProperty(this,"duration",{get:this.getDuration,enumerable:!0,
configurable:!0}),Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume,enumerable:!0,configurable:!0}),Object.defineProperty(this,"seeking",{get:this.getSeeking,enumerable:!0,configurable:!0}),Object.defineProperty(this,"paused",{get:this.getPaused,enumerable:!0,configurable:!0}),Object.defineProperty(this,"ended",{get:this.getEnded,enumerable:!0,configurable:!0})}catch(y){}null==c.mode&&(c.mode=(null!=(d=k.mode)?d.toLowerCase():void 0)||"auto");e.hasFlash()||(c.mode="html");
"auto"===c.mode&&(c.mode=e.isHTML5()?"html":"flash");d=document.getElementById(b);d.dataset||(d.dataset={});d.dataset.version=this.getVersion();this.player="html"===c.mode?this.createHTML5Player(b,c):this.createFlashPlayer(b,c);this.player.parent=this;h=this.player.plugins;for(f in h)d=h[f],this[f]=d;h=this.player.features;for(f in h)d=h[f],this[f]=d;this.initialized=!0;this.dispatchEvent(new g("initialized",this))};a.prototype.addEventListener=function(b,c){var d;"initialized"===b&&!0===this.initialized&&
(d=new g("initialized",this),d.target=this.target,c.call(this.target,d));return a.__super__.addEventListener.call(this,b,c)};a.prototype.getVersion=function(){return a.VERSION};a.prototype.load=function(){return this.player.load()};a.prototype.play=function(){return this.player.play()};a.prototype.replay=function(){return this.player.replay()};a.prototype.pause=function(){return this.player.pause()};a.prototype.end=function(){return this.player.end()};a.prototype.setParams=function(a){return this.player.setParams(a)};
a.prototype.getParams=function(){return this.player.getParams()};a.prototype.setAutoplay=function(a){return this.player.setAutoplay(a)};a.prototype.getAutoplay=function(){return this.player.getAutoplay()};a.prototype.setLoop=function(a){return this.player.setLoop(a)};a.prototype.getLoop=function(){return this.player.getLoop()};a.prototype.setMedia=function(a){this.player.setMedia(a);return a};a.prototype.getMedia=function(){return this.player.getMedia()};a.prototype.setCurrentTime=function(a){this.player.setCurrentTime(a);
return a};a.prototype.getCurrentTime=function(a){return this.player.getCurrentTime()};a.prototype.getDuration=function(a){return this.player.getDuration()};a.prototype.setSrc=function(a){this.player.setSrc(a);return a};a.prototype.getSrc=function(a){return this.player.getSrc()};a.prototype.setSource=function(a){this.player.setSource(a);return a};a.prototype.getSource=function(a){return this.player.getSource()};a.prototype.setVolume=function(a){this.player.setVolume(e.clamp(a,0,1));return a};a.prototype.getVolume=
function(a){return this.player.getVolume()};a.prototype.setMuted=function(a){this.player.setMuted(a);return a};a.prototype.getMuted=function(a){return this.player.getMuted()};a.prototype.mute=function(){return this.setMuted(!0)};a.prototype.unmute=function(){return this.setMuted(!1)};a.prototype.getSeeking=function(){return this.player.getSeeking()};a.prototype.getPaused=function(){return this.player.getPaused()};a.prototype.getEnded=function(){return this.player.getEnded()};a.prototype.enterFullScreen=
function(){return this.player.enterFullScreen()};a.prototype.exitFullScreen=function(){return this.player.exitFullScreen()};return a}(com.akamai.amp.events.EventDispatcher);com.akamai.amp.standard.AMP=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="AMP";a.VERSION="AMP v3.0.0023";a.prototype.getVersion=function(){return a.VERSION};return a}(com.akamai.amp.AkamaiMediaPlayer);window.AMP=com.akamai.amp.standard.AMP;
com.akamai.amp.plugins.eventmanagement.EventManagementNotifications=function(){function b(){}b.name="EventManagementNotifications";b.EVENT_STATE_CHANGED="eventStateChanged";return b}();
com.akamai.amp.core.Poller=function(b){function a(b,f,k,h){this.url=b;this.interval=null!=f?f:1E4;this.type=null!=k?k:null;this.headers=null!=h?h:null;d=com.akamai.amp.core.Utils;c=com.akamai.amp.events.Event;a.__super__.constructor.call(this);this.xhr=d.getXHR()}__extends(a,b);a.name="Poller";a.prototype.timeout=null;a.prototype.interval=null;a.prototype.url=null;a.prototype.lastModified=null;a.prototype.contentLenght=null;a.prototype.data=null;a.prototype.type=null;a.prototype.useHeadRequest=!0;
a.prototype.xhr=null;var d,c;a.prototype.start=function(){if(null!=this.url&&""!==this.url)return this.poll(),this.invoke()};a.prototype.poll=function(){var a,b,c,h,g,l,m=this;if(this.useHeadRequest){this.xhr.open("HEAD",d.cacheBust(this.url),!1);this.xhr.onerror=function(a){return m.error(a)};if(null!=this.headers){l=this.headers;h=0;for(g=l.length;h<g;h++)for(b in a=l[h],a)c=a[b],this.xhr.setRequestHeader(b,c)}null!=this.lastModified&&this.xhr.setRequestHeader("If-Modified-Since",this.lastModified);
this.xhr.send();if(200===this.xhr.status&&(b=this.xhr.getResponseHeader("Last-Modified"),a=this.xhr.getResponseHeader("Content-Length"),a!==this.contentLength||b!==this.lastModified||null==b&&null==a))null!=b&&(this.lastModified=b),null!=a&&(this.contentLength=a),this.updateData()}else this.updateData();return this.data};a.prototype.updateData=function(){var a,b=this;a=d.read(d.cacheBust(this.url),{onerror:function(a){return b.error(a)}},null,this.headers);if(a!==this.text){this.text=a;if(this.type===
d.mimeTypes.json)try{this.data=JSON.parse(this.text)}catch(k){this.data=a}else this.data=a;return this.dispatchEvent(new c("datachanged",this.data))}};a.prototype.error=function(a){this.facade.logger.debug(event);return this.stop()};a.prototype.invoke=function(){var a=this;this.stop();return this.timeout=setTimeout(function(){a.poll();return a.invoke()},this.interval)};a.prototype.stop=function(){return clearTimeout(this.timeout)};return a}(com.akamai.amp.events.EventDispatcher);
com.akamai.amp.plugins.eventmanagement.EventManagementMediator=function(b){function a(b){d=com.akamai.amp.plugins.eventmanagement.EventManagementNotifications;c=com.akamai.amp.player.Notifications;e=com.akamai.amp.player.model.DisplayState;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="EventManagementMediator";a.NAME="EventManagementMediator";a.prototype.poster=null;var d,c,e;a.prototype.onRegister=function(){this.viewComponent.classList.add("akamai-event-management");this.viewComponent.classList.add("akamai-hidden");
this.poster=document.createElement("img");this.poster.classList.add("akamai-event-poster");return a.__super__.onRegister.call(this)};a.prototype.listNotificationInterests=function(){return[d.EVENT_STATE_CHANGED]};a.prototype.handleNotification=function(a){switch(a.getName()){case d.EVENT_STATE_CHANGED:a=a.getBody();if("on"!==a.id)return null!=a.poster&&(this.poster.src=a.poster,this.viewComponent.appendChild(this.poster)),this.viewComponent.classList.remove("akamai-hidden"),this.sendNotification(c.PAUSE),
this.sendNotification(c.CHANGE_DISPLAY_STATE,e.NORMAL);this.viewComponent.contains(this.poster)&&this.viewComponent.removeChild(this.poster);this.viewComponent.classList.add("akamai-hidden");return this.sendNotification(c.PLAY)}};return a}(com.akamai.amp.player.view.OverlayMediator);
com.akamai.amp.plugins.eventmanagement.EventManagementPlayCommand=function(b){function a(){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.plugins.eventmanagement.EventManagementProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="EventManagementPlayCommand";var d,c;a.prototype.execute=function(a){this.facade.logger.debug("EventManagementPlayCommand");if(this.facade.retrieveProxy(c.NAME).getState().id!==c.ON.id)return this.sendNotification(d.PAUSE)};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.PluginWrapper=function(b){function a(b,e){this.player=b;this.config=e;d=com.akamai.amp.events.EventDispatcher;a.__super__.constructor.call(this);this.dispatcher=new d}__extends(a,b);a.name="PluginWrapper";a.NAME="PluginWrapper";a.prototype.player=null;a.prototype.config=null;a.prototype.dispatcher=null;var d;a.prototype.addEventListener=function(a,b){return this.dispatcher.addEventListener(a,b)};a.prototype.dispatchEvent=function(a){return this.dispatcher.dispatchEvent(a)};
a.prototype.removeEventListener=function(a,b){return this.dispather.removeEventListener(a,b)};return a}(puremvc.Mediator);
com.akamai.amp.plugins.eventmanagement.EventManagementProxy=function(b){function a(b){d=com.akamai.amp.plugins.eventmanagement.EventManagementNotifications;c=com.akamai.amp.core.Poller;var f=this;a.__super__.constructor.call(this,b);this.poller=new c;this.poller.ondatachanged=function(b){var c,d,e,m;b=b.data;if("on"===b)c=a.ON;else{m=f.data.states;d=0;for(e=m.length;d<e&&!(c=m[d],c.id===b);d++);}if(null!=c)return f.setState(c)}}__extends(a,b);a.name="EventManagementProxy";a.NAME=com.akamai.amp.modules.ModuleConfigurationProxy.NAME;
a.ON={id:"on"};a.prototype.data={url:null,interval:null,states:null,enabled:!1};a.prototype.poller=null;a.prototype.state=null;var d,c;a.prototype.initialize=function(){if(!0===this.data.enabled)return this.setURL(this.data.url),this.setInterval(this.data.interval),this.poller.start()};a.prototype.setURL=function(a){return this.data.url=this.poller.url=a};a.prototype.getURL=function(){return this.data.url};a.prototype.getInterval=function(){return this.data.interval};a.prototype.setInterval=function(a){return this.data.interval=
this.poller.interval=1E3*a};a.prototype.setState=function(a){this.state=a;this.facade.logger.debug("EventManagementStateChange",a);return this.sendNotification(d.EVENT_STATE_CHANGED,a)};a.prototype.getState=function(){return this.state};return a}(com.akamai.amp.modules.ModuleConfigurationProxy);
com.akamai.amp.plugins.eventmanagement.EventManagementWrapper=function(b){function a(){d=com.akamai.amp.core.utils.XMLUtils;c=com.akamai.amp.player.FlashNotifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="EventManagementWrapper";var d,c;a.NAME="EventManagementWrapper";a.prototype.listNotificationInterests=function(){return[c.CREATE_FLASH_VARS,c.CREATE_XML]};a.prototype.handleNotification=function(a){var b,k,h,g,l,m,n;k=a.getName();a=a.getBody();switch(k){case c.CREATE_FLASH_VARS:k=
a.flashvars;null!=this.config.enabled&&(k.eventmanagementstates_enabled=this.config.enabled);null!=this.config.url&&(k.eventmanagementstates_status_url=this.config.url);null!=this.config.interval&&(k.eventmanagementstates_status_interval=this.config.interval);break;case c.CREATE_XML:k=a.xml;a=k.getElementsByTagName("application")[0];b=k.getElementsByTagName("eventmanagementstates");null==b||0===b.length?(b=k.createElement("eventmanagementstates"),a.appendChild(b)):b=b[0];a=k.createElement("states");
b.appendChild(a);n=this.config.states;l=0;for(m=n.length;l<m;l++)g=n[l],b=k.createElement("state"),a.appendChild(b),h=k.createElement("property"),h.setAttribute("key","ID"),h.appendChild(d.createTextContent(k,g.id)),b.appendChild(h),h=k.createElement("property"),h.setAttribute("key","POSTER_SRC"),h.appendChild(d.createTextContent(k,g.poster)),b.appendChild(h),null!=g.url&&(h=k.createElement("property"),h.setAttribute("key","URL"),h.appendChild(d.createTextContent(k,g.url)),b.appendChild(h))}};return a}(com.akamai.amp.plugins.PluginWrapper);
com.akamai.amp.plugins.PluginFacade=function(b){function a(b,e){d=com.akamai.amp.player.Notifications;this.app=b;a.__super__.constructor.call(this,""+b.multitonKey+"/"+this.constructor.NAME,e);this.logger=this.app.logger}__extends(a,b);a.name="PluginFacade";a.NAME="PluginFacade";a.prototype.app=null;a.prototype.api=null;a.prototype.id=null;var d;a.prototype.onRegister=function(){return this.sendNotification(d.PLUGIN_REGISTERED,this)};return a}(com.akamai.amp.modules.ModuleFacade);
com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsWrapper=function(b){function a(){d=com.akamai.amp.core.utils.XMLUtils;c=com.akamai.amp.player.FlashNotifications;e=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="MediaAnalyticsWrapper";var d,c,e;a.NAME="MediaAnalyticsWrapper";a.prototype.listNotificationInterests=function(){return[c.CREATE_XML,c.MEDIA_CHANGE]};a.prototype.handleNotification=function(a){var b,h,g,l,m;h=a.getName();a=a.getBody();
switch(h){case c.CREATE_XML:a=a.xml;a.getElementsByTagName("application");h=a.getElementsByTagName("metrics")[0];m=a.createElement("vendor");m.setAttribute("id","akamai");h.appendChild(m);null!=this.config.config&&(h=a.createElement("property"),h.setAttribute("key","MEDIA_ANALYTICS_BEACON"),h.appendChild(d.createTextContent(a,this.config.config)),m.appendChild(h),b=(null!=(l=this.config.plugin)?l.swf:void 0)||"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf",h=a.createElement("property"),
h.setAttribute("key","MEDIA_ANALYTICS_PLUGIN_PATH"),h.appendChild(d.createTextContent(a,b)),m.appendChild(h));if(null!=this.config.dimensions)for(g in b=a.createElement("property"),b.setAttribute("key","dimensions"),m.appendChild(b),m=this.config.dimensions,m)l=m[g],h=a.createElement("property"),h.setAttribute("key",g),h.appendChild(d.createTextContent(a,l)),b.appendChild(h);break;case e.MEDIA_CHANGE:if(null!=(null!=(m=a.mediaanalytics)?m.dimensions:void 0))for(g in a.dimensions=[],h=a.mediaanalytics.dimensions,
h)l=h[g],a.dimensions.push({key:g,value:l})}};return a}(com.akamai.amp.plugins.PluginWrapper);
com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy=function(b){function a(b){d=com.akamai.amp.core.Utils;a.__super__.constructor.call(this,b)}__extends(a,b);a.name="MediaAnalyticsProxy";a.NAME=com.akamai.amp.modules.ModuleConfigurationProxy.NAME;a.prototype.defaults={config:null,dimensions:null,plugin:{js:"http://79423.analytics.edgesuite.net/html5/akamaihtml5-min.js"}};a.prototype.percent=0;var d;a.prototype.getPlugin=function(){return this.value.plugin.js};a.prototype.setMedia=function(a){var b,
f,k,h;try{if(null==window.setAkamaiMediaAnalyticsData)return;b=null!=(null!=(h=a.mediaanalytics)?h.dimensions:void 0)?d.override(this.value.dimensions,a.mediaanalytics.dimensions):this.value.dimensions;for(f in b)k=b[f],setAkamaiMediaAnalyticsData(f,k)}catch(g){this.facade.logger.error("Error setting MA Fields:",g)}return a};return a}(com.akamai.amp.player.model.TokenizedConfigurationProxy);
com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsChangeMediaCommand=function(b){function a(){d=com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="MediaAnalyticsChangeMediaCommand";var d;a.prototype.execute=function(a){this.facade.logger.debug("MediaAnalyticsChangeMediaCommand");a=a.getBody();return this.facade.retrieveProxy(d.NAME).setMedia(a)};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdBreakStartCommand=function(b){function a(){a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="MediaAnalyticsAdBreakStartCommand";a.prototype.execute=function(a){this.facade.logger.debug("MediaAnalyticsAdBreakStartCommand");return this.facade.app.video.dataset.isad=!0};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdLoadedCommand=function(b){function a(){a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="MediaAnalyticsAdLoadedCommand";a.prototype.execute=function(a){this.facade.logger.debug("MediaAnalyticsAdLoadedCommand");a=a.getBody();return"function"===typeof akamaiHandleAdLoaded?akamaiHandleAdLoaded(a):void 0};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdStartCommand=function(b){function a(){a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="MediaAnalyticsAdStartCommand";a.prototype.execute=function(a){this.facade.logger.debug("MediaAnalyticsAdStartCommand");return"function"===typeof akamaiHandleAdStarted?akamaiHandleAdStarted():void 0};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdTimeUpdateCommand=function(b){function a(){d=com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="MediaAnalyticsAdTimeUpdateCommand";var d;a.prototype.execute=function(a){var b;a=a.getBody();a=Math.round(100*(a.currentTime/a.duration));b=this.facade.retrieveProxy(d.NAME);25<=a&&25>b.percent?(this.facade.logger.debug("MediaAnalytics: First Quartile"),"function"===typeof akamaiHandleAdFirstQuartile&&
akamaiHandleAdFirstQuartile()):50<=a&&50>b.percent?(this.facade.logger.debug("MediaAnalytics: Second Quartile"),"function"===typeof akamaiHandleAdMidpoint&&akamaiHandleAdMidpoint()):75<=a&&75>b.percent&&(this.facade.logger.debug("MediaAnalytics: Third Quartile"),"function"===typeof akamaiHandleAdThirdQuartile&&akamaiHandleAdThirdQuartile());return b.percent=a};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdEndCommand=function(b){function a(){a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="MediaAnalyticsAdEndCommand";a.prototype.execute=function(a){this.facade.logger.debug("MediaAnalyticsAdEndCommand");"function"===typeof akamaiHandleAdCompleted&&akamaiHandleAdCompleted();return this.facade.app.video.dataset.isad=!0};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.eventmanagement.EventManagementPlugin=function(b){function a(b,h){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.plugins.eventmanagement.EventManagementProxy;e=com.akamai.amp.plugins.eventmanagement.EventManagementMediator;f=com.akamai.amp.plugins.eventmanagement.EventManagementPlayCommand;a.__super__.constructor.call(this,b,h)}__extends(a,b);a.name="EventManagementPlugin";a.NAME="EventManagementPlugin";var d,c,e,f;a.prototype.createModel=function(){return this.registerProxy(new c(this.config))};
a.prototype.createController=function(){return this.registerCommand(d.PLAY,f)};a.prototype.onRegister=function(){this.registerMediator(new e);this.retrieveProxy(c.NAME).initialize();return a.__super__.onRegister.call(this)};return a}(com.akamai.amp.plugins.PluginFacade);
com.akamai.amp.plugins.captioning.CaptioningWrapper=function(b){function a(){d=com.akamai.amp.events.Event;c=com.akamai.amp.core.Utils;e=com.akamai.amp.player.FlashNotifications;f=com.akamai.amp.player.Notifications;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="CaptioningWrapper";var d,c,e,f;a.NAME="CaptioningWrapper";a.prototype.hidden=!0;a.prototype.embedded=!1;a.prototype.listNotificationInterests=function(){return[e.CREATE_FLASH_VARS,f.MEDIA_CHANGE,e.CAPTIONING_REQUEST]};
a.prototype.handleNotification=function(a){var b,g;b=a.getName();a=a.getBody();switch(b){case e.CAPTIONING_REQUEST:return this.setHidden(!this.getHidden()),this.dispatchEvent(new d("visibilitychange",a.enabled));case e.CREATE_FLASH_VARS:b=a.flashvars;a=a.config;if(null!=(null!=(g=a.media)?g.track:void 0))return g=c.selectTrack(a.media.track,"captioning"),null!=g.src&&""!==g.src&&(b.caption_url=g.src),b.caption_type=encodeURIComponent(g.type)||"application/ttml+xml";break;case f.MEDIA_CHANGE:if(null!=
a.track){g=c.selectTrack(a.track,"captioning");if(null!=(null!=g?g.src:void 0)&&""!==g.src)a.captioningUrl=g.src;return a.captioningType=g.type||"application/ttml+xml"}}};a.prototype.getHidden=function(){return this.hidden};a.prototype.setHidden=function(a){return this.hidden=a};a.prototype.getEmbedded=function(){return this.embedded};a.prototype.setEmbedded=function(a){return this.embedded=a};return a}(com.akamai.amp.plugins.PluginWrapper);
com.akamai.amp.plugins.captioning.CaptioningProviders=function(){function b(){}b.name="CaptioningProviders";b.SUBPLY="subply";b.SMPTETT="smptett";return b}();
com.akamai.amp.plugins.captioning.SubplyProxy=function(b){function a(b){d=com.akamai.amp.plugins.captioning.CaptioningNotifications;var e,f=this;this.activeCaptions=[];this.captions=[];this.head=document.getElementsByTagName("head")[0];if(null==(e=com.akamai.amp.plugins).subply)e.subply={};com.akamai.amp.plugins.subply.response=function(a){f.parse(a);f.poll()};a.__super__.constructor.call(this,this.constructor.NAME,b)}__extends(a,b);a.name="SubplyProxy";a.NAME="SubplyProxy";a.prototype.data={base:"http://test.plymedia.com.s3.amazonaws.com/online/Akamai_",
interval:1E3};a.prototype.caption=null;a.prototype.head=null;a.prototype.script=null;a.prototype.timeout=null;var d;a.prototype.getURL=function(){return this.data.url};a.prototype.setURL=function(a){return this.data.url=a};a.prototype.start=function(){this.send()};a.prototype.poll=function(){var a=this;setTimeout(function(){a.send()},this.data.interval||1E3)};a.prototype.send=function(){null!=this.script&&this.head.removeChild(this.script);this.script=document.createElement("script");this.script.src=
this.data.base+this.data.url+".js?nocache\x3d"+Date.now();this.head.appendChild(this.script)};a.prototype.stop=function(){clearTimeout(timeout)};a.prototype.setCurrentTime=function(a){};a.prototype.parse=function(a){var b,f,k,h,g;if(a.Stream===this.data.url&&!(null!=this.caption&&this.caption.ticks>=a.Ticks)){b={};b.element=document.createElement("p");b.element.className="akamai-caption";g=a.Text.split("\n");k=0;for(h=g.length;k<h;k++)f=g[k],""!==b.element.innerHTML&&(b.element.innerHTML+="\x3cbr /\x3e"),
b.element.innerHTML+="\x3cspan\x3e"+f+"\x3c/span\x3e";b.begin=Utils.flattenTimecode(a.From);b.end=Utils.flattenTimecode(a.To);b.ticks=a.Ticks;this.sendNotification(d.REMOVE_CAPTION,this.caption);this.caption=b;this.sendNotification(d.ADD_CAPTION,this.caption);return this.caption}};return a}(puremvc.Proxy);
com.akamai.amp.plugins.captioning.CaptioningStartedCommand=function(b){function a(){d=com.akamai.amp.plugins.captioning.CaptioningProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="CaptioningStartedCommand";var d;a.prototype.execute=function(a){this.facade.logger.debug("CaptioningStartedCommand");a.getBody();return this.facade.retrieveProxy(d.NAME).start()};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.captioning.CaptioningTimeUpdateCommand=function(b){function a(){d=com.akamai.amp.plugins.captioning.CaptioningProxy;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="CaptioningTimeUpdateCommand";var d;a.prototype.execute=function(a){a=a.getBody();return this.facade.retrieveProxy(d.NAME).setCurrentTime(Math.round(a))};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.captioning.CaptioningChangeMediaCommand=function(b){function a(){d=com.akamai.amp.plugins.captioning.CaptioningProxy;c=com.akamai.amp.plugins.captioning.CaptioningNotifications;e=com.akamai.amp.plugins.captioning.CaptioningProviders;f=com.akamai.amp.core.Utils;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="CaptioningChangeMediaCommand";var d,c,e,f;a.prototype.execute=function(a){var b,g;this.facade.logger.debug("CaptioningChangeMediaCommand");b=a.getBody();
a=this.facade.retrieveProxy(d.NAME);null!=b.track&&(g=f.selectTrack(b.track,"captioning"),null!=g&&(b="live-subply"===g.type?e.SUBPLY:e.SMPTETT,a.setProvider(b),null!=g.src&&""!==g.src&&a.setURL(g.src)));return this.sendNotification(c.ENABLED,null!=a.getURL()||!0===a.getEmbedded())};return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.captioning.CaptioningVisibilityChangeCommand=function(b){function a(){d=com.akamai.amp.plugins.captioning.CaptioningProxy;c=com.akamai.amp.events.Event;a.__super__.constructor.apply(this,arguments)}__extends(a,b);a.name="CaptioningVisibilityChangeCommand";var d,c;a.prototype.execute=function(a){this.facade.logger.debug("CaptioningVisibilityChangeCommand");this.facade.retrieveProxy(d.NAME).setHidden(a.getBody());return this.facade.dispatchEvent(new c("visibilitychange",this.hidden))};
return a}(puremvc.SimpleCommand);
com.akamai.amp.plugins.captioning.SMPTETTProxy=function(b){function a(b){d=com.akamai.amp.plugins.captioning.CaptioningNotifications;this.activeCaptions=[];this.captions=[];a.__super__.constructor.call(this,b)}__extends(a,b);a.name="SMPTETTProxy";a.NAME="SMPTETTProxy";a.prototype.data={url:null};a.prototype.activeCaptions=null;a.prototype.captions=null;a.prototype.styles=null;a.prototype.currentTime=0;a.prototype.subply=null;var d;a.prototype.getURL=function(){return this.data.url};a.prototype.setURL=
function(a){this.data.url=a;if(null!=this.data.url&&(a=Utils.read(this.data.url,null,Utils.mimeTypes.xml)))return this.parse(a)};a.prototype.getCurrentTime=function(){return this.currentTime};a.prototype.setCurrentTime=function(a){var b,f,k,h,g;if(a!==this.currentTime){this.currentTime=a;for(f=0;f<this.activeCaptions.length;)b=this.activeCaptions[f],b.end<=a?(this.sendNotification(d.REMOVE_CAPTION,b),this.activeCaptions.splice(f,1)):++f;h=this.captions;g=[];f=0;for(k=h.length;f<k;f++)b=h[f],b.begin!==
a||0<=__indexOf.call(this.activeCaptions,b)||(this.sendNotification(d.ADD_CAPTION,b),g.push(this.activeCaptions.push(b)));return g}};a.prototype.start=function(){};a.prototype.parse=function(a){var b,d=this;this.styles={};Array.prototype.slice.call(a.querySelectorAll("styling style")).forEach(function(a,b,c){var e;e="";b=a.getAttribute("id")||a.getAttribute("xml:id");Array.prototype.slice.call(a.attributes).forEach(function(a,b,c){if("tts"===a.prefix)return e+=Utils.formatStyleName(a.localName)+":"+
a.nodeValue+";"});return d.styles[b]=e});Array.prototype.slice.call(a.querySelectorAll("body [style]")).forEach(function(a,b,c){b=a.getAttribute("style");return a.setAttribute("style",d.styles[b])});a=Array.prototype.slice.call(a.querySelectorAll("body p[begin]"));b=null;return a.forEach(function(a,c,g){c=document.adoptNode(a);a={};a.element=c;a.begin=Utils.flattenTimecode(c.getAttribute("begin"));c.removeAttribute("begin");null!=b&&(b.end=a.begin,b=null);c.hasAttribute("end")?(a.end=Utils.flattenTimecode(c.getAttribute("end")),
c.removeAttribute("end")):b=a;return d.captions.push(a)})};return a}(puremvc.Proxy);com.akamai.amp.plugins.captioning.CaptioningNotifications=function(){function b(){}b.name="CaptioningNotifications";b.ADD_CAPTION="addCaption";b.REMOVE_CAPTION="removeCaption";b.VISIBILITY_CHANGE="captioningvisibilitychange";b.ENABLED="captioningEnabled";return b}();
com.akamai.amp.plugins.captioning.CaptioningProxy=function(b){function a(b){d=com.akamai.amp.plugins.captioning.CaptioningProviders;c=com.akamai.amp.plugins.captioning.SubplyProxy;e=com.akamai.amp.plugins.captioning.SMPTETTProxy;this.activeCaptions=[];this.captions=[];this.providers={};a.__super__.constructor.call(this,b)}__extends(a,b);a.name="CaptioningProxy";a.NAME=com.akamai.amp.modules.ModuleConfigurationProxy.NAME;a.prototype.data={url:null,embedded:!1};a.prototype.core=null;a.prototype.activeCaptions=
null;a.prototype.captions=null;a.prototype.hidden=!0;a.prototype.provider=null;a.prototype.providers=null;var d,c,e;a.prototype.onRegister=function(){this.providers[d.SMPTETT]=new e;this.facade.registerProxy(this.providers[d.SMPTETT]);this.providers[d.SUBPLY]=new c;return this.facade.registerProxy(this.providers[d.SUBPLY])};a.prototype.getProvider=function(){return this.provider};a.prototype.setProvider=function(a){return this.provider=this.providers[a]};a.prototype.getURL=function(){return this.data.url};
a.prototype.setURL=function(a){var b;this.data.url=a;return null!=(b=this.provider)?b.setURL(a):void 0};a.prototype.getEmbedded=function(){return this.data.embedded};a.prototype.setEmbedded=function(a){return this.data.embedded=a};a.prototype.getHidden=function(){return this.hidden};a.prototype.setHidden=function(a){return this.hidden=a};a.prototype.setCurrentTime=function(a){var b;return null!=(b=this.provider)?b.setCurrentTime(a):void 0};a.prototype.start=function(){var a;return null!=(a=this.provider)?
a.start():void 0};return a}(com.akamai.amp.modules.ModuleConfigurationProxy);com.akamai.amp.plugins.PluginMediator=function(b){function a(b,e){d=com.akamai.amp.modules.ModuleConfigurationProxy;a.__super__.constructor.call(this,b,e)}__extends(a,b);a.name="PluginMediator";a.NAME="PluginMediator";var d;a.prototype.initializeNotifier=function(b){a.__super__.initializeNotifier.call(this,b);this.plugin=this.facade.retrieveProxy(d.NAME)};return a}(com.akamai.amp.player.view.OverlayMediator);
com.akamai.amp.plugins.captioning.CaptioningMediator=function(b){function a(b){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.events.EventHandler;e=com.akamai.amp.plugins.captioning.CaptioningNotifications;f=com.akamai.amp.player.model.localization.LocalizationConstants;a.__super__.constructor.call(this,a.NAME,b)}__extends(a,b);a.name="CaptioningMediator";a.NAME="CaptioningMediator";a.prototype.captionText=null;a.prototype.captionButton=null;a.prototype.caption=null;var d,c,e,f;a.prototype.onRegister=
function(){var b=this;this.viewComponent.classList.add("akamai-captioning");this.viewComponent.classList.add("akamai-hidden");this.captionText=document.createElement("div");this.captionText.classList.add("akamai-caption-text");this.viewComponent.appendChild(this.captionText);this.captionButton=document.createElement("div");this.captionButton.classList.add("akamai-caption-button");this.captionButton.textContent=this.localizationManager.getString(f.MSG_CC);c.create(this.captionButton,c.CLICK,function(a){a.stopImmediatePropagation();
b.sendNotification(e.VISIBILITY_CHANGE,!b.plugin.getHidden());return!1});this.sendNotification(d.ADD_CONTROL,this.captionButton);return a.__super__.onRegister.call(this)};a.prototype.listNotificationInterests=function(){return[e.ADD_CAPTION,e.REMOVE_CAPTION,e.VISIBILITY_CHANGE,e.ENABLED]};a.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();switch(b){case e.ADD_CAPTION:if(null!=a)return this.captionText.appendChild(a.element);break;case e.REMOVE_CAPTION:if(null!=a&&this.captionText.contains(a.element))return this.captionText.removeChild(a.element);
break;case e.VISIBILITY_CHANGE:if(this.plugin.getHidden())return this.viewComponent.classList.add("akamai-hidden"),this.captionButton.classList.remove("akamai-cc-active");this.plugin.getEmbedded()||this.viewComponent.classList.remove("akamai-hidden");return this.captionButton.classList.add("akamai-cc-active");case e.ENABLED:return b=a?d.ADD_APPLICATION_STATE:d.REMOVE_APPLICATION_STATE,this.sendNotification(b,"cc-enabled")}};return a}(com.akamai.amp.plugins.PluginMediator);
com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsPlugin=function(b){function a(b,v){d=com.akamai.amp.core.Utils;c=com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy;e=com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsChangeMediaCommand;f=com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdBreakStartCommand;k=com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdLoadedCommand;h=com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdStartCommand;g=com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdTimeUpdateCommand;
l=com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdEndCommand;m=com.akamai.amp.player.Notifications;n=com.akamai.amp.plugins.ads.AdNotifications;a.__super__.constructor.call(this,b,v)}__extends(a,b);a.name="MediaAnalyticsPlugin";a.NAME="MediaAnalyticsPlugin";a.prototype.key="mediaanalytics";var d,c,e,f,k,h,g,l,m,n;a.prototype.createModel=function(){return this.registerProxy(new c(this.config))};a.prototype.createController=function(){this.registerCommand(m.MEDIA_CHANGE,e);this.registerCommand(n.BREAK_START,
f);this.registerCommand(n.AD_LOADED,k);this.registerCommand(n.AD_STARTED,h);this.registerCommand(n.AD_TIME_UPDATE,g);return this.registerCommand(n.AD_ENDED,l)};a.prototype.onRegister=function(){var a,b=this;window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=this.config.config;a=this.retrieveProxy(c.NAME);return null!=a.getPlugin()?d.loadAMPScript(a.getPlugin(),function(){return b.sendNotification(m.PLUGIN_REGISTERED,b)}):this.sendNotification(m.PLUGIN_REGISTERED,this)};return a}(com.akamai.amp.plugins.PluginFacade);
com.akamai.amp.plugins.captioning.CaptioningPlugin=function(b){function a(b,n){d=com.akamai.amp.player.Notifications;c=com.akamai.amp.plugins.captioning.CaptioningMediator;e=com.akamai.amp.plugins.captioning.CaptioningProxy;f=com.akamai.amp.plugins.captioning.CaptioningStartedCommand;k=com.akamai.amp.plugins.captioning.CaptioningTimeUpdateCommand;h=com.akamai.amp.plugins.captioning.CaptioningChangeMediaCommand;g=com.akamai.amp.plugins.captioning.CaptioningVisibilityChangeCommand;l=com.akamai.amp.plugins.captioning.CaptioningNotifications;
a.__super__.constructor.call(this,b,n);this.app.features.captioning=this}__extends(a,b);a.name="CaptioningPlugin";a.NAME="CaptioningPlugin";a.prototype.captioningProxy=null;var d,c,e,f,k,h,g,l;a.prototype.createController=function(){this.registerCommand(d.CHANGE_MEDIA,h);this.registerCommand(d.STARTED,f);this.registerCommand(d.TIME_UPDATE,k);return this.registerCommand(l.VISIBILITY_CHANGE,g)};a.prototype.createModel=function(){this.captioningProxy=new e(this.config);return this.registerProxy(this.captioningProxy)};
a.prototype.onRegister=function(){this.registerMediator(new c);return a.__super__.onRegister.call(this)};a.prototype.getHidden=function(){return this.captioningProxy.getHidden()};a.prototype.setHidden=function(a){return this.sendNotification(l.VISIBILITY_CHANGE,a)};return a}(com.akamai.amp.plugins.PluginFacade);